\hypertarget{perf__os__patch__freertos_8c}{}\doxysection{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c File Reference}
\label{perf__os__patch__freertos_8c}\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
{\ttfamily \#include \char`\"{}Free\+RTOS.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}task.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}timers.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stack\+\_\+macros.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}perf\+\_\+counter.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}cmsis\+\_\+compiler.\+h\char`\"{}}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct____task__cycle__info__t}{\+\_\+\+\_\+task\+\_\+cycle\+\_\+info\+\_\+t}}
\item 
struct \mbox{\hyperlink{structtsk_task_control_block}{tsk\+Task\+Control\+Block}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{perf__os__patch__freertos_8c_ab622d8c674f2a417a666a7ed89109e79}{MPU\+\_\+\+WRAPPERS\+\_\+\+INCLUDED\+\_\+\+FROM\+\_\+\+API\+\_\+\+FILE}}
\item 
\#define \mbox{\hyperlink{perf__os__patch__freertos_8c_a34b5fd2f760a3a19875464d26bdb71df}{WRAP\+\_\+\+FUNC}}(\+\_\+\+\_\+\+NAME)~\+\_\+\+\_\+\+WRAP\+\_\+\+FUNC(\+\_\+\+\_\+\+NAME)
\item 
\#define \mbox{\hyperlink{perf__os__patch__freertos_8c_aa7290a1d64a5cbe15d52fec89b35f1b9}{ORIG\+\_\+\+FUNC}}(\+\_\+\+\_\+\+NAME)~\+\_\+\+\_\+\+ORIG\+\_\+\+FUNC(\+\_\+\+\_\+\+NAME)
\item 
\#define \mbox{\hyperlink{perf__os__patch__freertos_8c_af1545bfa164313b88b851eb84f466541}{Evt\+Free\+RTOSTasks\+No}}~(0x\+F0U)
\item 
\#define \mbox{\hyperlink{perf__os__patch__freertos_8c_a324f9bb05f8ce010d19ec560b4e1da95}{Evt\+Free\+RTOSTasks\+\_\+\+Task\+Switched\+Out}}~            Event\+ID(Event\+Level\+Op,     \mbox{\hyperlink{perf__os__patch__freertos_8c_af1545bfa164313b88b851eb84f466541}{Evt\+Free\+RTOSTasks\+No}}, 0x0\+BU)
\item 
\#define \mbox{\hyperlink{perf__os__patch__freertos_8c_aea3ef800c9428b732ffbe8445eefee66}{Evt\+Free\+RTOSTasks\+\_\+\+Task\+Switched\+In}}~            Event\+ID(Event\+Level\+Op,     \mbox{\hyperlink{perf__os__patch__freertos_8c_af1545bfa164313b88b851eb84f466541}{Evt\+Free\+RTOSTasks\+No}}, 0x0\+CU)
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structtsk_task_control_block}{tsk\+Task\+Control\+Block}} \mbox{\hyperlink{perf__os__patch__freertos_8c_a67b1ddede4e49c946dd720d83c5838a5}{tsk\+TCB}}
\item 
typedef \mbox{\hyperlink{perf__os__patch__freertos_8c_a67b1ddede4e49c946dd720d83c5838a5}{tsk\+TCB}} \mbox{\hyperlink{perf__os__patch__freertos_8c_aa3c2dda92a6dc22860bbdb36e42a0453}{TCB\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{perf__os__patch__freertos_8c_aded00de9fbde9be7f8872f85685b36a4}{\+\_\+\+\_\+on\+\_\+context\+\_\+switch\+\_\+in}} (uint32\+\_\+t $\ast$pw\+Stack)
\item 
void \mbox{\hyperlink{perf__os__patch__freertos_8c_aee2926404ade74811fa658786035f745}{\+\_\+\+\_\+on\+\_\+context\+\_\+switch\+\_\+out}} (uint32\+\_\+t $\ast$pw\+Stack)
\item 
void \mbox{\hyperlink{perf__os__patch__freertos_8c_a5d7733a0a2eec8eb3c6782ddfd6bf44c}{\+\_\+\+\_\+freertos\+\_\+evr\+\_\+on\+\_\+task\+\_\+switched\+\_\+out}} (void $\ast$pt\+TCB)
\item 
void \mbox{\hyperlink{perf__os__patch__freertos_8c_a411ff611b06926d6bcde27c0c621895c}{\+\_\+\+\_\+freertos\+\_\+evr\+\_\+on\+\_\+task\+\_\+switched\+\_\+in}} (void $\ast$pt\+TCB, uint32\+\_\+t ux\+Top\+Priority)
\item 
\mbox{\hyperlink{structtask__cycle__info__t}{task\+\_\+cycle\+\_\+info\+\_\+t}} $\ast$ \mbox{\hyperlink{perf__os__patch__freertos_8c_aafe74ae771ab855185531aae1e42657c}{get\+\_\+rtos\+\_\+task\+\_\+cycle\+\_\+info}} (void)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
PRIVILEGED\+\_\+\+DATA \mbox{\hyperlink{perf__os__patch__freertos_8c_aa3c2dda92a6dc22860bbdb36e42a0453}{TCB\+\_\+t}} $\ast$volatile \mbox{\hyperlink{perf__os__patch__freertos_8c_acdecf2afe97343aba42b111bc6df9eea}{px\+Current\+TCB}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{perf__os__patch__freertos_8c_aea3ef800c9428b732ffbe8445eefee66}\label{perf__os__patch__freertos_8c_aea3ef800c9428b732ffbe8445eefee66}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!EvtFreeRTOSTasks\_TaskSwitchedIn@{EvtFreeRTOSTasks\_TaskSwitchedIn}}
\index{EvtFreeRTOSTasks\_TaskSwitchedIn@{EvtFreeRTOSTasks\_TaskSwitchedIn}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{EvtFreeRTOSTasks\_TaskSwitchedIn}{EvtFreeRTOSTasks\_TaskSwitchedIn}}
{\footnotesize\ttfamily \#define Evt\+Free\+RTOSTasks\+\_\+\+Task\+Switched\+In~            Event\+ID(Event\+Level\+Op,     \mbox{\hyperlink{perf__os__patch__freertos_8c_af1545bfa164313b88b851eb84f466541}{Evt\+Free\+RTOSTasks\+No}}, 0x0\+CU)}



Definition at line \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00210}{210}} of file \mbox{\hyperlink{perf__os__patch__freertos_8c_source}{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c}}.

\mbox{\Hypertarget{perf__os__patch__freertos_8c_a324f9bb05f8ce010d19ec560b4e1da95}\label{perf__os__patch__freertos_8c_a324f9bb05f8ce010d19ec560b4e1da95}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!EvtFreeRTOSTasks\_TaskSwitchedOut@{EvtFreeRTOSTasks\_TaskSwitchedOut}}
\index{EvtFreeRTOSTasks\_TaskSwitchedOut@{EvtFreeRTOSTasks\_TaskSwitchedOut}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{EvtFreeRTOSTasks\_TaskSwitchedOut}{EvtFreeRTOSTasks\_TaskSwitchedOut}}
{\footnotesize\ttfamily \#define Evt\+Free\+RTOSTasks\+\_\+\+Task\+Switched\+Out~            Event\+ID(Event\+Level\+Op,     \mbox{\hyperlink{perf__os__patch__freertos_8c_af1545bfa164313b88b851eb84f466541}{Evt\+Free\+RTOSTasks\+No}}, 0x0\+BU)}



Definition at line \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00208}{208}} of file \mbox{\hyperlink{perf__os__patch__freertos_8c_source}{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c}}.

\mbox{\Hypertarget{perf__os__patch__freertos_8c_af1545bfa164313b88b851eb84f466541}\label{perf__os__patch__freertos_8c_af1545bfa164313b88b851eb84f466541}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!EvtFreeRTOSTasksNo@{EvtFreeRTOSTasksNo}}
\index{EvtFreeRTOSTasksNo@{EvtFreeRTOSTasksNo}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{EvtFreeRTOSTasksNo}{EvtFreeRTOSTasksNo}}
{\footnotesize\ttfamily \#define Evt\+Free\+RTOSTasks\+No~(0x\+F0U)}



Definition at line \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00206}{206}} of file \mbox{\hyperlink{perf__os__patch__freertos_8c_source}{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c}}.

\mbox{\Hypertarget{perf__os__patch__freertos_8c_ab622d8c674f2a417a666a7ed89109e79}\label{perf__os__patch__freertos_8c_ab622d8c674f2a417a666a7ed89109e79}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!MPU\_WRAPPERS\_INCLUDED\_FROM\_API\_FILE@{MPU\_WRAPPERS\_INCLUDED\_FROM\_API\_FILE}}
\index{MPU\_WRAPPERS\_INCLUDED\_FROM\_API\_FILE@{MPU\_WRAPPERS\_INCLUDED\_FROM\_API\_FILE}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{MPU\_WRAPPERS\_INCLUDED\_FROM\_API\_FILE}{MPU\_WRAPPERS\_INCLUDED\_FROM\_API\_FILE}}
{\footnotesize\ttfamily \#define MPU\+\_\+\+WRAPPERS\+\_\+\+INCLUDED\+\_\+\+FROM\+\_\+\+API\+\_\+\+FILE}



Definition at line \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00025}{25}} of file \mbox{\hyperlink{perf__os__patch__freertos_8c_source}{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c}}.

\mbox{\Hypertarget{perf__os__patch__freertos_8c_aa7290a1d64a5cbe15d52fec89b35f1b9}\label{perf__os__patch__freertos_8c_aa7290a1d64a5cbe15d52fec89b35f1b9}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!ORIG\_FUNC@{ORIG\_FUNC}}
\index{ORIG\_FUNC@{ORIG\_FUNC}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{ORIG\_FUNC}{ORIG\_FUNC}}
{\footnotesize\ttfamily \#define ORIG\+\_\+\+FUNC(\begin{DoxyParamCaption}\item[{}]{\+\_\+\+\_\+\+NAME }\end{DoxyParamCaption})~\+\_\+\+\_\+\+ORIG\+\_\+\+FUNC(\+\_\+\+\_\+\+NAME)}



Definition at line \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00059}{59}} of file \mbox{\hyperlink{perf__os__patch__freertos_8c_source}{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c}}.

\mbox{\Hypertarget{perf__os__patch__freertos_8c_a34b5fd2f760a3a19875464d26bdb71df}\label{perf__os__patch__freertos_8c_a34b5fd2f760a3a19875464d26bdb71df}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!WRAP\_FUNC@{WRAP\_FUNC}}
\index{WRAP\_FUNC@{WRAP\_FUNC}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{WRAP\_FUNC}{WRAP\_FUNC}}
{\footnotesize\ttfamily \#define WRAP\+\_\+\+FUNC(\begin{DoxyParamCaption}\item[{}]{\+\_\+\+\_\+\+NAME }\end{DoxyParamCaption})~\+\_\+\+\_\+\+WRAP\+\_\+\+FUNC(\+\_\+\+\_\+\+NAME)}



Definition at line \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00058}{58}} of file \mbox{\hyperlink{perf__os__patch__freertos_8c_source}{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c}}.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{perf__os__patch__freertos_8c_aa3c2dda92a6dc22860bbdb36e42a0453}\label{perf__os__patch__freertos_8c_aa3c2dda92a6dc22860bbdb36e42a0453}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!TCB\_t@{TCB\_t}}
\index{TCB\_t@{TCB\_t}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{TCB\_t}{TCB\_t}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{perf__os__patch__freertos_8c_a67b1ddede4e49c946dd720d83c5838a5}{tsk\+TCB}} \mbox{\hyperlink{perf__os__patch__freertos_8c_aa3c2dda92a6dc22860bbdb36e42a0453}{TCB\+\_\+t}}}



Definition at line \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00158}{158}} of file \mbox{\hyperlink{perf__os__patch__freertos_8c_source}{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c}}.

\mbox{\Hypertarget{perf__os__patch__freertos_8c_a67b1ddede4e49c946dd720d83c5838a5}\label{perf__os__patch__freertos_8c_a67b1ddede4e49c946dd720d83c5838a5}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!tskTCB@{tskTCB}}
\index{tskTCB@{tskTCB}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{tskTCB}{tskTCB}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structtsk_task_control_block}{tsk\+Task\+Control\+Block}} \mbox{\hyperlink{perf__os__patch__freertos_8c_a67b1ddede4e49c946dd720d83c5838a5}{tsk\+TCB}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{perf__os__patch__freertos_8c_a411ff611b06926d6bcde27c0c621895c}\label{perf__os__patch__freertos_8c_a411ff611b06926d6bcde27c0c621895c}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!\_\_freertos\_evr\_on\_task\_switched\_in@{\_\_freertos\_evr\_on\_task\_switched\_in}}
\index{\_\_freertos\_evr\_on\_task\_switched\_in@{\_\_freertos\_evr\_on\_task\_switched\_in}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{\_\_freertos\_evr\_on\_task\_switched\_in()}{\_\_freertos\_evr\_on\_task\_switched\_in()}}
{\footnotesize\ttfamily void \+\_\+\+\_\+freertos\+\_\+evr\+\_\+on\+\_\+task\+\_\+switched\+\_\+in (\begin{DoxyParamCaption}\item[{void $\ast$}]{pt\+TCB,  }\item[{uint32\+\_\+t}]{ux\+Top\+Priority }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00225}{225}} of file \mbox{\hyperlink{perf__os__patch__freertos_8c_source}{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00225                                                                              \{}
\DoxyCodeLine{00226 \textcolor{preprocessor}{\#if defined(RTE\_Compiler\_EventRecorder)}}
\DoxyCodeLine{00227   EventRecord2(\mbox{\hyperlink{perf__os__patch__freertos_8c_aea3ef800c9428b732ffbe8445eefee66}{EvtFreeRTOSTasks\_TaskSwitchedIn}}, (uint32\_t)ptTCB, uxTopPriority);}
\DoxyCodeLine{00228 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00229   (void)\mbox{\hyperlink{perf__os__patch__freertos_8c_acdecf2afe97343aba42b111bc6df9eea}{pxCurrentTCB}};}
\DoxyCodeLine{00230   (void)uxTopPriority;}
\DoxyCodeLine{00231 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00232     }
\DoxyCodeLine{00233     \mbox{\hyperlink{perf__os__patch__freertos_8c_aded00de9fbde9be7f8872f85685b36a4}{\_\_on\_context\_switch\_in}}(((\mbox{\hyperlink{structtsk_task_control_block}{TCB\_t}} *)ptTCB)-\/>pxStack);}
\DoxyCodeLine{00234 \}}

\end{DoxyCode}


References \mbox{\hyperlink{perf__counter_8c_source_l00646}{\+\_\+\+\_\+on\+\_\+context\+\_\+switch\+\_\+in()}}, \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00210}{Evt\+Free\+RTOSTasks\+\_\+\+Task\+Switched\+In}}, and \mbox{\hyperlink{perf__os__patch__freertos_8c_acdecf2afe97343aba42b111bc6df9eea}{px\+Current\+TCB}}.

\mbox{\Hypertarget{perf__os__patch__freertos_8c_a5d7733a0a2eec8eb3c6782ddfd6bf44c}\label{perf__os__patch__freertos_8c_a5d7733a0a2eec8eb3c6782ddfd6bf44c}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!\_\_freertos\_evr\_on\_task\_switched\_out@{\_\_freertos\_evr\_on\_task\_switched\_out}}
\index{\_\_freertos\_evr\_on\_task\_switched\_out@{\_\_freertos\_evr\_on\_task\_switched\_out}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{\_\_freertos\_evr\_on\_task\_switched\_out()}{\_\_freertos\_evr\_on\_task\_switched\_out()}}
{\footnotesize\ttfamily void \+\_\+\+\_\+freertos\+\_\+evr\+\_\+on\+\_\+task\+\_\+switched\+\_\+out (\begin{DoxyParamCaption}\item[{void $\ast$}]{pt\+TCB }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00213}{213}} of file \mbox{\hyperlink{perf__os__patch__freertos_8c_source}{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00213                                                        \{}
\DoxyCodeLine{00214 \textcolor{preprocessor}{\#if defined(RTE\_Compiler\_EventRecorder)}}
\DoxyCodeLine{00215   EventRecord2(\mbox{\hyperlink{perf__os__patch__freertos_8c_a324f9bb05f8ce010d19ec560b4e1da95}{EvtFreeRTOSTasks\_TaskSwitchedOut}}, (uint32\_t)ptTCB, 0U);}
\DoxyCodeLine{00216 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00217   (void)\mbox{\hyperlink{perf__os__patch__freertos_8c_acdecf2afe97343aba42b111bc6df9eea}{pxCurrentTCB}};}
\DoxyCodeLine{00218 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00219     }
\DoxyCodeLine{00220     \mbox{\hyperlink{perf__os__patch__freertos_8c_aee2926404ade74811fa658786035f745}{\_\_on\_context\_switch\_out}}(((\mbox{\hyperlink{structtsk_task_control_block}{TCB\_t}} *)ptTCB)-\/>pxStack);}
\DoxyCodeLine{00221     }
\DoxyCodeLine{00222 \}}

\end{DoxyCode}


References \mbox{\hyperlink{perf__counter_8c_source_l00668}{\+\_\+\+\_\+on\+\_\+context\+\_\+switch\+\_\+out()}}, \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00208}{Evt\+Free\+RTOSTasks\+\_\+\+Task\+Switched\+Out}}, and \mbox{\hyperlink{perf__os__patch__freertos_8c_acdecf2afe97343aba42b111bc6df9eea}{px\+Current\+TCB}}.

\mbox{\Hypertarget{perf__os__patch__freertos_8c_aded00de9fbde9be7f8872f85685b36a4}\label{perf__os__patch__freertos_8c_aded00de9fbde9be7f8872f85685b36a4}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!\_\_on\_context\_switch\_in@{\_\_on\_context\_switch\_in}}
\index{\_\_on\_context\_switch\_in@{\_\_on\_context\_switch\_in}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{\_\_on\_context\_switch\_in()}{\_\_on\_context\_switch\_in()}}
{\footnotesize\ttfamily void \+\_\+\+\_\+on\+\_\+context\+\_\+switch\+\_\+in (\begin{DoxyParamCaption}\item[{uint32\+\_\+t $\ast$}]{pw\+Stack }\end{DoxyParamCaption})}

\begin{DoxyNote}{Note}
if you aren\textquotesingle{}t using perf\+\_\+counter inside KEIL with RTE, please create ! a header file called \char`\"{}\+Pre\+\_\+\+Include\+\_\+\+Global.\+h\char`\"{}, copy the following ! content into the header file and and put following option ! to your command line (supposing you are using arm compiler 6)\+: ! -\/include \char`\"{}\+Pre\+\_\+\+Include\+\_\+\+Global.\+h\char`\"{} 
\end{DoxyNote}
update all agents

Definition at line \mbox{\hyperlink{perf__counter_8c_source_l00646}{646}} of file \mbox{\hyperlink{perf__counter_8c_source}{perf\+\_\+counter.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00647 \{}
\DoxyCodeLine{00648     \textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *ptRootAgent = (\textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *)pwStack;}
\DoxyCodeLine{00649     uint64\_t dwTimeStamp = \mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}();}
\DoxyCodeLine{00650     }
\DoxyCodeLine{00651     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_ae2aae11f91e3eea654ceeac9b81706cb}{lLastTimeStamp}} = dwTimeStamp;}
\DoxyCodeLine{00652     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}}.\mbox{\hyperlink{structtask__cycle__info__t_a84d3729a2d49dd2e43ef8727fcd6f9b0}{hwActiveCount}}++;}
\DoxyCodeLine{00653 }
\DoxyCodeLine{00654     \textcolor{keywordflow}{if} (\mbox{\hyperlink{perf__counter_8c_a5ed2b69d382ff960de71b5aa2e0b0deb}{MAGIC\_WORD\_AGENT\_LIST\_VALID}} == ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a88c8aad5ae23ae04fa44b2892081561b}{wMagicWord}}) \{}
\DoxyCodeLine{00656         \mbox{\hyperlink{structtask__cycle__info__agent__t}{task\_cycle\_info\_agent\_t}} *ptAgent = ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a7d50a2272c4a1b65f927e8c6d1242b33}{tList}}.\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}};}
\DoxyCodeLine{00657         \textcolor{keywordflow}{while}(NULL != ptAgent) \{}
\DoxyCodeLine{00658             \textcolor{keywordflow}{if} (NULL != ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}) \{}
\DoxyCodeLine{00659                 \textcolor{keywordflow}{if} (ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}}) \{}
\DoxyCodeLine{00660                     ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}-\/>\mbox{\hyperlink{structtask__cycle__info__t_a84d3729a2d49dd2e43ef8727fcd6f9b0}{hwActiveCount}}++;}
\DoxyCodeLine{00661                 \}}
\DoxyCodeLine{00662             \}}
\DoxyCodeLine{00663             ptAgent = ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}};}
\DoxyCodeLine{00664         \}}
\DoxyCodeLine{00665     \}}
\DoxyCodeLine{00666 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00225}{\+\_\+\+\_\+freertos\+\_\+evr\+\_\+on\+\_\+task\+\_\+switched\+\_\+in()}}.

\mbox{\Hypertarget{perf__os__patch__freertos_8c_aee2926404ade74811fa658786035f745}\label{perf__os__patch__freertos_8c_aee2926404ade74811fa658786035f745}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!\_\_on\_context\_switch\_out@{\_\_on\_context\_switch\_out}}
\index{\_\_on\_context\_switch\_out@{\_\_on\_context\_switch\_out}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{\_\_on\_context\_switch\_out()}{\_\_on\_context\_switch\_out()}}
{\footnotesize\ttfamily void \+\_\+\+\_\+on\+\_\+context\+\_\+switch\+\_\+out (\begin{DoxyParamCaption}\item[{uint32\+\_\+t $\ast$}]{pw\+Stack }\end{DoxyParamCaption})}

update all agents

Definition at line \mbox{\hyperlink{perf__counter_8c_source_l00668}{668}} of file \mbox{\hyperlink{perf__counter_8c_source}{perf\+\_\+counter.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00669 \{}
\DoxyCodeLine{00670     \textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *ptRootAgent = (\textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *)pwStack;}
\DoxyCodeLine{00671     int64\_t lCycleUsed = \mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}() -\/ ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_ae2aae11f91e3eea654ceeac9b81706cb}{lLastTimeStamp}};}
\DoxyCodeLine{00672     }
\DoxyCodeLine{00673     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}}.\mbox{\hyperlink{structtask__cycle__info__t_a0250b43cfb57ddf17f7f40c4cc587249}{nUsedRecent}} = lCycleUsed;}
\DoxyCodeLine{00674     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}}.\mbox{\hyperlink{structtask__cycle__info__t_a19a46cbd05039f568b01e326d65d6b80}{lUsedTotal}} += lCycleUsed;}
\DoxyCodeLine{00675     }
\DoxyCodeLine{00676     \textcolor{keywordflow}{if} (\mbox{\hyperlink{perf__counter_8c_a5ed2b69d382ff960de71b5aa2e0b0deb}{MAGIC\_WORD\_AGENT\_LIST\_VALID}} == ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a88c8aad5ae23ae04fa44b2892081561b}{wMagicWord}}) \{}
\DoxyCodeLine{00678         \mbox{\hyperlink{structtask__cycle__info__agent__t}{task\_cycle\_info\_agent\_t}} *ptAgent = ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a7d50a2272c4a1b65f927e8c6d1242b33}{tList}}.\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}};}
\DoxyCodeLine{00679         \textcolor{keywordflow}{while}(NULL != ptAgent) \{}
\DoxyCodeLine{00680             \textcolor{keywordflow}{if} (NULL != ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}) \{}
\DoxyCodeLine{00681                 \textcolor{keywordflow}{if} (ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}}) \{}
\DoxyCodeLine{00682                     ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}-\/>\mbox{\hyperlink{structtask__cycle__info__t_a0250b43cfb57ddf17f7f40c4cc587249}{nUsedRecent}} = lCycleUsed;}
\DoxyCodeLine{00683                     ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}-\/>\mbox{\hyperlink{structtask__cycle__info__t_a19a46cbd05039f568b01e326d65d6b80}{lUsedTotal}} += lCycleUsed;}
\DoxyCodeLine{00684                 \}}
\DoxyCodeLine{00685             \}}
\DoxyCodeLine{00686             ptAgent = ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}};}
\DoxyCodeLine{00687         \}}
\DoxyCodeLine{00688     \}}
\DoxyCodeLine{00689 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00213}{\+\_\+\+\_\+freertos\+\_\+evr\+\_\+on\+\_\+task\+\_\+switched\+\_\+out()}}.

\mbox{\Hypertarget{perf__os__patch__freertos_8c_aafe74ae771ab855185531aae1e42657c}\label{perf__os__patch__freertos_8c_aafe74ae771ab855185531aae1e42657c}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!get\_rtos\_task\_cycle\_info@{get\_rtos\_task\_cycle\_info}}
\index{get\_rtos\_task\_cycle\_info@{get\_rtos\_task\_cycle\_info}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{get\_rtos\_task\_cycle\_info()}{get\_rtos\_task\_cycle\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structtask__cycle__info__t}{task\+\_\+cycle\+\_\+info\+\_\+t}} $\ast$ get\+\_\+rtos\+\_\+task\+\_\+cycle\+\_\+info (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00237}{237}} of file \mbox{\hyperlink{perf__os__patch__freertos_8c_source}{perf\+\_\+os\+\_\+patch\+\_\+freertos.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00238 \{   }
\DoxyCodeLine{00239     \textcolor{keywordflow}{return} \&(((\textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *)\mbox{\hyperlink{perf__os__patch__freertos_8c_acdecf2afe97343aba42b111bc6df9eea}{pxCurrentTCB}}-\/>\mbox{\hyperlink{structtsk_task_control_block_aaecd48bdf732c1df94b258956ca85bd7}{pxStack}})-\/>tInfo);}
\DoxyCodeLine{00240 \}}

\end{DoxyCode}


References \mbox{\hyperlink{perf__os__patch__freertos_8c_acdecf2afe97343aba42b111bc6df9eea}{px\+Current\+TCB}}, and \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00088}{tsk\+Task\+Control\+Block\+::px\+Stack}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{perf__os__patch__freertos_8c_acdecf2afe97343aba42b111bc6df9eea}\label{perf__os__patch__freertos_8c_acdecf2afe97343aba42b111bc6df9eea}} 
\index{perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}!pxCurrentTCB@{pxCurrentTCB}}
\index{pxCurrentTCB@{pxCurrentTCB}!perf\_os\_patch\_freertos.c@{perf\_os\_patch\_freertos.c}}
\doxysubsubsection{\texorpdfstring{pxCurrentTCB}{pxCurrentTCB}}
{\footnotesize\ttfamily PRIVILEGED\+\_\+\+DATA \mbox{\hyperlink{perf__os__patch__freertos_8c_aa3c2dda92a6dc22860bbdb36e42a0453}{TCB\+\_\+t}}$\ast$ volatile px\+Current\+TCB\hspace{0.3cm}{\ttfamily [extern]}}



Referenced by \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00225}{\+\_\+\+\_\+freertos\+\_\+evr\+\_\+on\+\_\+task\+\_\+switched\+\_\+in()}}, \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00213}{\+\_\+\+\_\+freertos\+\_\+evr\+\_\+on\+\_\+task\+\_\+switched\+\_\+out()}}, and \mbox{\hyperlink{perf__os__patch__freertos_8c_source_l00237}{get\+\_\+rtos\+\_\+task\+\_\+cycle\+\_\+info()}}.

