\hypertarget{perf__counter_8c_source}{}\doxysection{perf\+\_\+counter.\+c}
\mbox{\hyperlink{perf__counter_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00001}00001 \textcolor{comment}{/****************************************************************************}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00002}00002 \textcolor{comment}{*  Copyright 2022 Gorgon Meducer (Email:embedded\_zhuoran@hotmail.com)       *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00003}00003 \textcolor{comment}{*                                                                           *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00004}00004 \textcolor{comment}{*  Licensed under the Apache License, Version 2.0 (the "{}License"{});          *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00005}00005 \textcolor{comment}{*  you may not use this file except in compliance with the License.         *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00006}00006 \textcolor{comment}{*  You may obtain a copy of the License at                                  *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00007}00007 \textcolor{comment}{*                                                                           *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00008}00008 \textcolor{comment}{*     http://www.apache.org/licenses/LICENSE-\/2.0                            *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00009}00009 \textcolor{comment}{*                                                                           *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00010}00010 \textcolor{comment}{*  Unless required by applicable law or agreed to in writing, software      *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00011}00011 \textcolor{comment}{*  distributed under the License is distributed on an "{}AS IS"{} BASIS,        *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00012}00012 \textcolor{comment}{*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00013}00013 \textcolor{comment}{*  See the License for the specific language governing permissions and      *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00014}00014 \textcolor{comment}{*  limitations under the License.                                           *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00015}00015 \textcolor{comment}{*                                                                           *}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00016}00016 \textcolor{comment}{****************************************************************************/}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00018}00018 \textcolor{comment}{/*============================ INCLUDES ======================================*/}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00019}00019 \textcolor{preprocessor}{\#include <stdint.h>}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00020}00020 \textcolor{preprocessor}{\#include <stdbool.h>}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00021}00021 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00022}00022 \textcolor{preprocessor}{\#include "{}cmsis\_compiler.h"{}}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00023}00023 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00024}\mbox{\hyperlink{perf__counter_8c_afedb615b5c48d33ad8523f92078bf66c}{00024}} \textcolor{preprocessor}{\#define \_\_IMPLEMENT\_PERF\_COUNTER}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00025}00025 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{perf__counter_8h}{perf\_counter.h}}"{}}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00027}00027 \textcolor{preprocessor}{\#if defined(\_\_IS\_COMPILER\_GCC\_\_)}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00028}00028 \textcolor{preprocessor}{\#   pragma GCC diagnostic ignored "{}-\/Wattributes"{}}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00029}00029 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00032}00032 \textcolor{comment}{/*============================ MACROS ========================================*/}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00033}00033 \textcolor{preprocessor}{\#ifndef PERF\_CNT\_COMPENSATION\_THRESHOLD}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00034}\mbox{\hyperlink{perf__counter_8c_a0f17a2b1bde9a2632daa7ad0b96df9e5}{00034}} \textcolor{preprocessor}{\#   define PERF\_CNT\_COMPENSATION\_THRESHOLD          16}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00035}00035 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00037}00037 \textcolor{preprocessor}{\#ifndef PERF\_CNT\_DELAY\_US\_COMPENSATION}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00038}\mbox{\hyperlink{perf__counter_8c_ad7332da0831148c773a7c5211d5bfa1e}{00038}} \textcolor{preprocessor}{\#   define PERF\_CNT\_DELAY\_US\_COMPENSATION           90}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00039}00039 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00041}00041 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00042}00042 \textcolor{comment}{/* IO definitions (access restrictions to peripheral registers) */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00050}00050 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00051}00051 \textcolor{preprocessor}{  \#define   \_\_I     volatile             }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00052}00052 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00053}\mbox{\hyperlink{perf__counter_8c_af63697ed9952cc71e1225efe205f6cd3}{00053}} \textcolor{preprocessor}{  \#define   \_\_I     volatile const       }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00054}00054 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00055}\mbox{\hyperlink{perf__counter_8c_a7e25d9380f9ef903923964322e71f2f6}{00055}} \textcolor{preprocessor}{\#define     \_\_O     volatile             }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00056}\mbox{\hyperlink{perf__counter_8c_aec43007d9998a0a0e01faede4133d6be}{00056}} \textcolor{preprocessor}{\#define     \_\_IO    volatile             }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00058}00058 \textcolor{comment}{/* following defines should be used for structure members */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00059}\mbox{\hyperlink{perf__counter_8c_a4cc1649793116d7c2d8afce7a4ffce43}{00059}} \textcolor{preprocessor}{\#define     \_\_IM     volatile const      }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00060}\mbox{\hyperlink{perf__counter_8c_a0ea2009ed8fd9ef35b48708280fdb758}{00060}} \textcolor{preprocessor}{\#define     \_\_OM     volatile            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00061}\mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{00061}} \textcolor{preprocessor}{\#define     \_\_IOM    volatile            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00063}00063 \textcolor{comment}{/* Memory mapping of Core Hardware */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00064}\mbox{\hyperlink{perf__counter_8c_a3c14ed93192c8d9143322bbf77ebf770}{00064}} \textcolor{preprocessor}{\#define SCS\_BASE            (0xE000E000UL)                                      }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00065}\mbox{\hyperlink{perf__counter_8c_a58effaac0b93006b756d33209e814646}{00065}} \textcolor{preprocessor}{\#define SysTick\_BASE        (SCS\_BASE +  0x0010UL)                              }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00066}\mbox{\hyperlink{perf__counter_8c_ad55a7ddb8d4b2398b0c1cfec76c0d9fd}{00066}} \textcolor{preprocessor}{\#define SCB\_BASE            (SCS\_BASE +  0x0D00UL)                              }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00068}\mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{00068}} \textcolor{preprocessor}{\#define SysTick             ((SysTick\_Type   *)     SysTick\_BASE     )          }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00069}\mbox{\hyperlink{perf__counter_8c_aaaf6477c2bde2f00f99e3c2fd1060b01}{00069}} \textcolor{preprocessor}{\#define SCB                 ((SCB\_Type       *)     SCB\_BASE      )             }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00071}00071 \textcolor{comment}{/* SysTick Control / Status Register Definitions */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00072}\mbox{\hyperlink{perf__counter_8c_adbb65d4a815759649db41df216ed4d60}{00072}} \textcolor{preprocessor}{\#define SysTick\_CTRL\_COUNTFLAG\_Pos         16U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00073}\mbox{\hyperlink{perf__counter_8c_a1bf3033ecccf200f59baefe15dbb367c}{00073}} \textcolor{preprocessor}{\#define SysTick\_CTRL\_COUNTFLAG\_Msk         (1UL << SysTick\_CTRL\_COUNTFLAG\_Pos)            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00075}\mbox{\hyperlink{perf__counter_8c_a24fbc69a5f0b78d67fda2300257baff1}{00075}} \textcolor{preprocessor}{\#define SysTick\_CTRL\_CLKSOURCE\_Pos          2U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00076}\mbox{\hyperlink{perf__counter_8c_aa41d06039797423a46596bd313d57373}{00076}} \textcolor{preprocessor}{\#define SysTick\_CTRL\_CLKSOURCE\_Msk         (1UL << SysTick\_CTRL\_CLKSOURCE\_Pos)            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00078}\mbox{\hyperlink{perf__counter_8c_a88f45bbb89ce8df3cd2b2613c7b48214}{00078}} \textcolor{preprocessor}{\#define SysTick\_CTRL\_TICKINT\_Pos            1U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00079}\mbox{\hyperlink{perf__counter_8c_a95bb984266ca764024836a870238a027}{00079}} \textcolor{preprocessor}{\#define SysTick\_CTRL\_TICKINT\_Msk           (1UL << SysTick\_CTRL\_TICKINT\_Pos)              }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00081}\mbox{\hyperlink{perf__counter_8c_a0b48cc1e36d92a92e4bf632890314810}{00081}} \textcolor{preprocessor}{\#define SysTick\_CTRL\_ENABLE\_Pos             0U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00082}\mbox{\hyperlink{perf__counter_8c_a16c9fee0ed0235524bdeb38af328fd1f}{00082}} \textcolor{preprocessor}{\#define SysTick\_CTRL\_ENABLE\_Msk            (1UL }\textcolor{comment}{/*<< SysTick\_CTRL\_ENABLE\_Pos*/}\textcolor{preprocessor}{)           }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00084}00084 \textcolor{comment}{/* SysTick Reload Register Definitions */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00085}\mbox{\hyperlink{perf__counter_8c_af44d10df359dc5bf5752b0894ae3bad2}{00085}} \textcolor{preprocessor}{\#define SysTick\_LOAD\_RELOAD\_Pos             0U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00086}\mbox{\hyperlink{perf__counter_8c_a265912a7962f0e1abd170336e579b1b1}{00086}} \textcolor{preprocessor}{\#define SysTick\_LOAD\_RELOAD\_Msk            (0xFFFFFFUL }\textcolor{comment}{/*<< SysTick\_LOAD\_RELOAD\_Pos*/}\textcolor{preprocessor}{)    }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00088}00088 \textcolor{comment}{/* SysTick Current Register Definitions */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00089}\mbox{\hyperlink{perf__counter_8c_a3208104c3b019b5de35ae8c21d5c34dd}{00089}} \textcolor{preprocessor}{\#define SysTick\_VAL\_CURRENT\_Pos             0U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00090}\mbox{\hyperlink{perf__counter_8c_afc77b56d568930b49a2474debc75ab45}{00090}} \textcolor{preprocessor}{\#define SysTick\_VAL\_CURRENT\_Msk            (0xFFFFFFUL }\textcolor{comment}{/*<< SysTick\_VAL\_CURRENT\_Pos*/}\textcolor{preprocessor}{)    }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00092}00092 \textcolor{comment}{/* SysTick Calibration Register Definitions */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00093}\mbox{\hyperlink{perf__counter_8c_a534dbe414e7a46a6ce4c1eca1fbff409}{00093}} \textcolor{preprocessor}{\#define SysTick\_CALIB\_NOREF\_Pos            31U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00094}\mbox{\hyperlink{perf__counter_8c_a3af0d891fdd99bcc8d8912d37830edb6}{00094}} \textcolor{preprocessor}{\#define SysTick\_CALIB\_NOREF\_Msk            (1UL << SysTick\_CALIB\_NOREF\_Pos)               }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00096}\mbox{\hyperlink{perf__counter_8c_add0c9cd6641b9f6a0c618e7982954860}{00096}} \textcolor{preprocessor}{\#define SysTick\_CALIB\_SKEW\_Pos             30U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00097}\mbox{\hyperlink{perf__counter_8c_a8a6a85a87334776f33d77fd147587431}{00097}} \textcolor{preprocessor}{\#define SysTick\_CALIB\_SKEW\_Msk             (1UL << SysTick\_CALIB\_SKEW\_Pos)                }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00099}\mbox{\hyperlink{perf__counter_8c_acae558f6e75a0bed5d826f606d8e695e}{00099}} \textcolor{preprocessor}{\#define SysTick\_CALIB\_TENMS\_Pos             0U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00100}\mbox{\hyperlink{perf__counter_8c_af1e68865c5aece2ad58971225bd3e95e}{00100}} \textcolor{preprocessor}{\#define SysTick\_CALIB\_TENMS\_Msk            (0xFFFFFFUL }\textcolor{comment}{/*<< SysTick\_CALIB\_TENMS\_Pos*/}\textcolor{preprocessor}{)    }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00104}\mbox{\hyperlink{perf__counter_8c_adbe25e4b333ece1341beb1a740168fdc}{00104}} \textcolor{preprocessor}{\#define SCB\_ICSR\_PENDSTCLR\_Pos             25U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00105}\mbox{\hyperlink{perf__counter_8c_ab241827d2a793269d8cd99b9b28c2157}{00105}} \textcolor{preprocessor}{\#define SCB\_ICSR\_PENDSTCLR\_Msk             (1UL << SCB\_ICSR\_PENDSTCLR\_Pos)                }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00107}\mbox{\hyperlink{perf__counter_8c_a9dbb3358c6167c9c3f85661b90fb2794}{00107}} \textcolor{preprocessor}{\#define SCB\_ICSR\_PENDSTSET\_Pos             26U                                            }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00108}\mbox{\hyperlink{perf__counter_8c_a7325b61ea0ec323ef2d5c893b112e546}{00108}} \textcolor{preprocessor}{\#define SCB\_ICSR\_PENDSTSET\_Msk             (1UL << SCB\_ICSR\_PENDSTSET\_Pos)                }}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00111}\mbox{\hyperlink{perf__counter_8c_a5ed2b69d382ff960de71b5aa2e0b0deb}{00111}} \textcolor{preprocessor}{\#define MAGIC\_WORD\_AGENT\_LIST\_VALID        0x8492A53C}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00112}\mbox{\hyperlink{perf__counter_8c_acd6c9ac2bce565b27fef68a011411100}{00112}} \textcolor{preprocessor}{\#define MAGIC\_WORD\_CANARY                  0xDEADBEEF}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00113}00113 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00114}00114 \textcolor{comment}{/*============================ MACROFIED FUNCTIONS ===========================*/}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00115}00115 \textcolor{comment}{/*============================ TYPES =========================================*/}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00116}00116 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00120}\mbox{\hyperlink{struct_sys_tick___type}{00120}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00121}00121 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00122}\mbox{\hyperlink{struct_sys_tick___type_ac81efc171e9852a36caeb47122bfec5b}{00122}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_sys_tick___type_ac81efc171e9852a36caeb47122bfec5b}{CTRL}};                   }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00123}\mbox{\hyperlink{struct_sys_tick___type_a0c1333686137b7e25a46bd548a5b5bc3}{00123}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_sys_tick___type_a0c1333686137b7e25a46bd548a5b5bc3}{LOAD}};                   }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00124}\mbox{\hyperlink{struct_sys_tick___type_ae7a655a853654127f3dfb7fa32c3f457}{00124}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_sys_tick___type_ae7a655a853654127f3dfb7fa32c3f457}{VAL}};                    }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00125}\mbox{\hyperlink{struct_sys_tick___type_aedf0dff29a9cacdaa2fb7eec6b116a13}{00125}}   \mbox{\hyperlink{perf__counter_8c_a4cc1649793116d7c2d8afce7a4ffce43}{\_\_IM}}  uint32\_t \mbox{\hyperlink{struct_sys_tick___type_aedf0dff29a9cacdaa2fb7eec6b116a13}{CALIB}};                  }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00126}00126 \} \mbox{\hyperlink{struct_sys_tick___type}{SysTick\_Type}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00127}00127 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00131}\mbox{\hyperlink{struct_s_c_b___type}{00131}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00132}00132 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00133}\mbox{\hyperlink{struct_s_c_b___type_adbf8292503748ba6421a523bdee6819d}{00133}}   \mbox{\hyperlink{perf__counter_8c_a4cc1649793116d7c2d8afce7a4ffce43}{\_\_IM}}  uint32\_t \mbox{\hyperlink{struct_s_c_b___type_adbf8292503748ba6421a523bdee6819d}{CPUID}};                  }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00134}\mbox{\hyperlink{struct_s_c_b___type_aced895d6aba03d72b0d865fcc5ce44ee}{00134}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_aced895d6aba03d72b0d865fcc5ce44ee}{ICSR}};                   }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00135}\mbox{\hyperlink{struct_s_c_b___type_ae457d2615e203c3d5904a43a1bc9df71}{00135}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_ae457d2615e203c3d5904a43a1bc9df71}{VTOR}};                   }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00136}\mbox{\hyperlink{struct_s_c_b___type_a9b6ccd9c0c0865f8facad77ea37240b0}{00136}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_a9b6ccd9c0c0865f8facad77ea37240b0}{AIRCR}};                  }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00137}\mbox{\hyperlink{struct_s_c_b___type_acac65f229cb3fcb5369a0a9e0393b8c0}{00137}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_acac65f229cb3fcb5369a0a9e0393b8c0}{SCR}};                    }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00138}\mbox{\hyperlink{struct_s_c_b___type_ad68b5c1f2d9845ef4247cf2d9b041336}{00138}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_ad68b5c1f2d9845ef4247cf2d9b041336}{CCR}};                    }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00139}\mbox{\hyperlink{struct_s_c_b___type_a293826a2c44f754e80af03d62f62f9e6}{00139}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint8\_t  SHP[12U];               }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00140}\mbox{\hyperlink{struct_s_c_b___type_a44ad5c292dbd77e72f310902375a8a06}{00140}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_a44ad5c292dbd77e72f310902375a8a06}{SHCSR}};                  }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00141}\mbox{\hyperlink{struct_s_c_b___type_a0f9e27357254e6e953a94f95bda040b1}{00141}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_a0f9e27357254e6e953a94f95bda040b1}{CFSR}};                   }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00142}\mbox{\hyperlink{struct_s_c_b___type_ab974e7ceb2e52a3fbcaa84e06e52922d}{00142}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_ab974e7ceb2e52a3fbcaa84e06e52922d}{HFSR}};                   }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00143}\mbox{\hyperlink{struct_s_c_b___type_a3b590075aa07880ce686d5cfb4e61c5c}{00143}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_a3b590075aa07880ce686d5cfb4e61c5c}{DFSR}};                   }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00144}\mbox{\hyperlink{struct_s_c_b___type_ae9d94d186615d57d38c9253cb842d244}{00144}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_ae9d94d186615d57d38c9253cb842d244}{MMFAR}};                  }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00145}\mbox{\hyperlink{struct_s_c_b___type_a3fde073744418e2fe476333cb4d55d0d}{00145}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_a3fde073744418e2fe476333cb4d55d0d}{BFAR}};                   }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00146}\mbox{\hyperlink{struct_s_c_b___type_a3ef0057e48fdef798f2ee12125a80d9f}{00146}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_a3ef0057e48fdef798f2ee12125a80d9f}{AFSR}};                   }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00147}\mbox{\hyperlink{struct_s_c_b___type_a602fa5eae6a772dbb09970d304e75690}{00147}}   \mbox{\hyperlink{perf__counter_8c_a4cc1649793116d7c2d8afce7a4ffce43}{\_\_IM}}  uint32\_t PFR[2U];                }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00148}\mbox{\hyperlink{struct_s_c_b___type_ae2b3d4530d1b0c05593b634dc46348bd}{00148}}   \mbox{\hyperlink{perf__counter_8c_a4cc1649793116d7c2d8afce7a4ffce43}{\_\_IM}}  uint32\_t \mbox{\hyperlink{struct_s_c_b___type_ae2b3d4530d1b0c05593b634dc46348bd}{DFR}};                    }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00149}\mbox{\hyperlink{struct_s_c_b___type_a72572af6d5dece4947453aeabd52575f}{00149}}   \mbox{\hyperlink{perf__counter_8c_a4cc1649793116d7c2d8afce7a4ffce43}{\_\_IM}}  uint32\_t \mbox{\hyperlink{struct_s_c_b___type_a72572af6d5dece4947453aeabd52575f}{ADR}};                    }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00150}\mbox{\hyperlink{struct_s_c_b___type_ab6c914b579d22d7eb86d0e3d9a5fde71}{00150}}   \mbox{\hyperlink{perf__counter_8c_a4cc1649793116d7c2d8afce7a4ffce43}{\_\_IM}}  uint32\_t MMFR[4U];               }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00151}\mbox{\hyperlink{struct_s_c_b___type_af2950df748750d535d5d65ac1c209563}{00151}}   \mbox{\hyperlink{perf__counter_8c_a4cc1649793116d7c2d8afce7a4ffce43}{\_\_IM}}  uint32\_t ISAR[5U];               }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00152}\mbox{\hyperlink{struct_s_c_b___type_a9361cfd01123913b78dd5d0dc8301bfd}{00152}}         uint32\_t RESERVED0[5U];}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00153}\mbox{\hyperlink{struct_s_c_b___type_ab8e9dd6ca5f31244ea352ed0c19155d8}{00153}}   \mbox{\hyperlink{perf__counter_8c_ab6caba5853a60a17e8e04499b52bf691}{\_\_IOM}} uint32\_t \mbox{\hyperlink{struct_s_c_b___type_ab8e9dd6ca5f31244ea352ed0c19155d8}{CPACR}};                  }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00154}00154 \} \mbox{\hyperlink{struct_s_c_b___type}{SCB\_Type}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00155}00155 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00161}\mbox{\hyperlink{struct____task__cycle__info__t}{00161}} \textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00162}\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{00162}}     \mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}}       \mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}};             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00163}\mbox{\hyperlink{struct____task__cycle__info__t_ae2aae11f91e3eea654ceeac9b81706cb}{00163}}     int64\_t                 \mbox{\hyperlink{struct____task__cycle__info__t_ae2aae11f91e3eea654ceeac9b81706cb}{lLastTimeStamp}};    }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00164}\mbox{\hyperlink{struct____task__cycle__info__t_a7d50a2272c4a1b65f927e8c6d1242b33}{00164}}     \mbox{\hyperlink{structtask__cycle__info__agent__t}{task\_cycle\_info\_agent\_t}} \mbox{\hyperlink{struct____task__cycle__info__t_a7d50a2272c4a1b65f927e8c6d1242b33}{tList}};             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00165}\mbox{\hyperlink{struct____task__cycle__info__t_a88c8aad5ae23ae04fa44b2892081561b}{00165}}     uint32\_t                \mbox{\hyperlink{struct____task__cycle__info__t_a88c8aad5ae23ae04fa44b2892081561b}{wMagicWord}};        }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00166}00166 \} ;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00168}00168 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00169}00169 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00170}00170 \textcolor{comment}{/*============================ GLOBAL VARIABLES ==============================*/}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00171}00171 \textcolor{keyword}{extern} uint32\_t \mbox{\hyperlink{perf__counter_8c_aa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00172}00172 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00173}00173 \textcolor{comment}{/*============================ LOCAL VARIABLES ===============================*/}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00174}00174 \textcolor{keyword}{volatile} \textcolor{keyword}{static} int32\_t s\_nCycleCounts = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00175}00175 \textcolor{keyword}{volatile} \textcolor{keyword}{static} int32\_t s\_nOffset = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00176}00176 \textcolor{keyword}{volatile} \textcolor{keyword}{static} int32\_t s\_nUSUnit = 1;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00177}00177 \textcolor{keyword}{volatile} \textcolor{keyword}{static} int32\_t s\_nMSUnit = 1;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00178}00178 \textcolor{keyword}{volatile} \textcolor{keyword}{static} int32\_t s\_nMSResidule = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00179}00179 \textcolor{keyword}{volatile} \textcolor{keyword}{static} int32\_t s\_nSystemMS = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00180}00180 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00181}00181 \textcolor{keyword}{volatile} \textcolor{keyword}{static} int64\_t s\_lSystemClockCounts = 0; }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00182}00182 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00183}00183 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00184}00184 \textcolor{comment}{/*============================ PROTOTYPES ====================================*/}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00185}00185 \textcolor{comment}{/*============================ IMPLEMENTATION ================================*/}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00186}00186 \textcolor{comment}{/*============================ INCLUDES ======================================*/}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00187}00187 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00188}00188 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00200}\mbox{\hyperlink{perf__counter_8c_ae4e8f0238527c69f522029b93c8e5b78}{00200}} \_\_STATIC\_INLINE uint32\_t \mbox{\hyperlink{perf__counter_8c_ae4e8f0238527c69f522029b93c8e5b78}{SysTick\_Config}}(uint32\_t ticks)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00201}00201 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00202}00202     \textcolor{keywordflow}{if} ((ticks -\/ 1UL) > \mbox{\hyperlink{perf__counter_8c_a265912a7962f0e1abd170336e579b1b1}{SysTick\_LOAD\_RELOAD\_Msk}})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00203}00203     \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00204}00204         \textcolor{keywordflow}{return} (1UL);                                                           \textcolor{comment}{/* Reload value impossible */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00205}00205     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00206}00206   }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00207}00207     \textcolor{comment}{//\_\_IRQ\_SAFE \{}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00208}00208         \mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>CTRL  = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00209}00209         }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00210}00210         \mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>LOAD  = (uint32\_t)(ticks -\/ 1UL);                               \textcolor{comment}{/* set reload register */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00211}00211         \textcolor{comment}{//NVIC\_SetPriority (SysTick\_IRQn, (1UL << \_\_NVIC\_PRIO\_BITS) -\/ 1UL);     /* set Priority for Systick Interrupt */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00212}00212         \mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>VAL   = 0UL;                                                   \textcolor{comment}{/* Load the SysTick Counter Value */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00213}00213         \mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>CTRL  =   \mbox{\hyperlink{perf__counter_8c_aa41d06039797423a46596bd313d57373}{SysTick\_CTRL\_CLKSOURCE\_Msk}} |}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00214}00214                            \mbox{\hyperlink{perf__counter_8c_a95bb984266ca764024836a870238a027}{SysTick\_CTRL\_TICKINT\_Msk}}   |}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00215}00215                            \mbox{\hyperlink{perf__counter_8c_a16c9fee0ed0235524bdeb38af328fd1f}{SysTick\_CTRL\_ENABLE\_Msk}};                             \textcolor{comment}{/* Enable SysTick IRQ and SysTick Timer */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00216}00216         \textcolor{comment}{//SCB-\/>ICSR      = SCB\_ICSR\_PENDSTCLR\_Msk;}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00217}00217     \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00218}00218     \textcolor{keywordflow}{return} (0UL);                                                               \textcolor{comment}{/* Function successful */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00219}00219 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00220}00220 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00233}\mbox{\hyperlink{perf__counter_8c_a0a6e5160f19f152b0b9a502e5e24adb7}{00233}} \textcolor{keywordtype}{void} \mbox{\hyperlink{perf__counter_8c_a0a6e5160f19f152b0b9a502e5e24adb7}{user\_code\_insert\_to\_systick\_handler}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00234}00234 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00235}00235     uint32\_t wLoad = \mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>LOAD + 1;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00236}00236     s\_nCycleCounts += wLoad;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00237}00237     s\_lSystemClockCounts += wLoad;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00238}00238     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00240}00240     s\_nMSResidule += wLoad;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00241}00241     int32\_t nMS = s\_nMSResidule / s\_nMSUnit;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00242}00242     s\_nMSResidule -\/= nMS * s\_nMSUnit;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00243}00243     s\_nSystemMS += nMS;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00244}00244 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00245}00245 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00246}00246 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00247}00247 \_\_WEAK }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00248}\mbox{\hyperlink{perf__counter_8c_a4781d1de67a0b4fd21656377d0a2a0bc}{00248}} \textcolor{keywordtype}{void} \mbox{\hyperlink{perf__counter_8c_a4781d1de67a0b4fd21656377d0a2a0bc}{\_\_perf\_os\_patch\_init}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00249}00249 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00250}00250 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00251}00251 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00252}00252 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00280}\mbox{\hyperlink{perf__counter_8c_a9097d62a30ad2b4f75462c78d7200fa8}{00280}} \textcolor{keywordtype}{void} \mbox{\hyperlink{perf__counter_8c_a9097d62a30ad2b4f75462c78d7200fa8}{init\_cycle\_counter}}(\textcolor{keywordtype}{bool} bIsSysTickOccupied)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00281}00281 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00282}00282     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00283}00283         \textcolor{keywordflow}{if} (!bIsSysTickOccupied) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00284}00284             \mbox{\hyperlink{perf__counter_8c_ae4e8f0238527c69f522029b93c8e5b78}{SysTick\_Config}}(0x01000000);             \textcolor{comment}{// use the longest period}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00285}00285         \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00286}00286         \mbox{\hyperlink{perf__counter_8c_aaaf6477c2bde2f00f99e3c2fd1060b01}{SCB}}-\/>ICSR      = \mbox{\hyperlink{perf__counter_8c_ab241827d2a793269d8cd99b9b28c2157}{SCB\_ICSR\_PENDSTCLR\_Msk}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00287}00287     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00288}00288     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00289}00289     \mbox{\hyperlink{perf__counter_8c_af33fd92801223d4befa49c610332ddd4}{start\_cycle\_counter}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00290}00290     \textcolor{comment}{//s\_nSystemClockCounts = s\_nCycleCounts;}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00291}00291     s\_nOffset = \mbox{\hyperlink{perf__counter_8c_a014af75d3945894c4740773e8a28d723}{stop\_cycle\_counter}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00292}00292     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00293}00293     s\_nUSUnit = \mbox{\hyperlink{perf__counter_8c_aa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} / 1000000ul;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00294}00294     s\_nMSUnit = \mbox{\hyperlink{perf__counter_8c_aa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} / 1000ul;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00295}00295     s\_lSystemClockCounts = 0;                       \textcolor{comment}{// reset system cycle counter}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00296}00296     s\_nSystemMS = 0;                                \textcolor{comment}{// reset system millisecond counter}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00297}00297     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00298}00298 \textcolor{preprocessor}{\#if     defined(\_\_IS\_COMPILER\_ARM\_COMPILER\_5\_\_)                                 \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00299}00299 \textcolor{preprocessor}{    ||  defined(\_\_IS\_COMPILER\_ARM\_COMPILER\_6\_\_)                                 \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00300}00300 \textcolor{preprocessor}{    ||  defined(\_\_IS\_COMPILER\_GCC\_\_)                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00301}00301 \textcolor{preprocessor}{    ||  defined(\_\_IS\_COMPILER\_LLVM\_\_)}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00302}00302     \textcolor{keyword}{extern} \textcolor{keywordtype}{void} \_\_ensure\_systick\_wrapper(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00303}00303     \_\_ensure\_systick\_wrapper();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00304}00304 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00305}00305 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00306}00306     \mbox{\hyperlink{perf__counter_8c_a4781d1de67a0b4fd21656377d0a2a0bc}{\_\_perf\_os\_patch\_init}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00307}00307 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00308}00308 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00316}\mbox{\hyperlink{perf__counter_8c_af33fd92801223d4befa49c610332ddd4}{00316}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{perf__counter_8c_af33fd92801223d4befa49c610332ddd4}{start\_cycle\_counter}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00317}00317 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00318}00318     \textcolor{keywordflow}{if} (\mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>LOAD < \mbox{\hyperlink{perf__counter_8c_a0f17a2b1bde9a2632daa7ad0b96df9e5}{PERF\_CNT\_COMPENSATION\_THRESHOLD}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00319}00319         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00320}00320     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00321}00321     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00322}00322     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00323}00323         s\_nCycleCounts =  (int32\_t)\mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>VAL -\/ (int32\_t)\mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>LOAD;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00324}00324     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00325}00325     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00326}00326 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00327}00327 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00332}\mbox{\hyperlink{perf__counter_8c_a21ccde78f8ad778f05be60855c5a8283}{00332}} \_\_STATIC\_INLINE int32\_t \mbox{\hyperlink{perf__counter_8c_a21ccde78f8ad778f05be60855c5a8283}{check\_systick}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00333}00333 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00334}00334     int32\_t nTemp = (int32\_t)\mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>LOAD -\/ (int32\_t)\mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>VAL;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00335}00335 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00356}00356     \textcolor{keywordflow}{if} (\mbox{\hyperlink{perf__counter_8c_aaaf6477c2bde2f00f99e3c2fd1060b01}{SCB}}-\/>ICSR \& \mbox{\hyperlink{perf__counter_8c_a7325b61ea0ec323ef2d5c893b112e546}{SCB\_ICSR\_PENDSTSET\_Msk}})\{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00357}00357         \textcolor{keywordflow}{if} (((int32\_t)\mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>LOAD -\/ nTemp) >= \mbox{\hyperlink{perf__counter_8c_a0f17a2b1bde9a2632daa7ad0b96df9e5}{PERF\_CNT\_COMPENSATION\_THRESHOLD}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00358}00358             nTemp += \mbox{\hyperlink{perf__counter_8c_acd96c53beeaff8f603fcda425eb295de}{SysTick}}-\/>LOAD + 1;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00359}00359         \} }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00360}00360     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00361}00361     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00362}00362     \textcolor{keywordflow}{return} nTemp;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00363}00363 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00364}00364 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00372}\mbox{\hyperlink{perf__counter_8c_a014af75d3945894c4740773e8a28d723}{00372}} int32\_t \mbox{\hyperlink{perf__counter_8c_a014af75d3945894c4740773e8a28d723}{stop\_cycle\_counter}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00373}00373 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00374}00374     int32\_t nTemp = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00375}00375 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00376}00376     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00377}00377         nTemp = \mbox{\hyperlink{perf__counter_8c_a21ccde78f8ad778f05be60855c5a8283}{check\_systick}}() + s\_nCycleCounts;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00378}00378     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00379}00379 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00380}00380     \textcolor{keywordflow}{return} nTemp -\/ s\_nOffset;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00381}00381 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00382}00382 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00383}00383 \textcolor{preprocessor}{\#if defined(\_\_IS\_COMPILER\_IAR\_\_)}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00384}00384 \_\_attribute\_\_((constructor))}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00385}00385 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00386}00386 \_\_attribute\_\_((constructor(255)))}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00387}00387 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00388}00388 \textcolor{keywordtype}{void} \_\_perf\_counter\_init(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00389}00389 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00390}00390     \mbox{\hyperlink{perf__counter_8c_a9097d62a30ad2b4f75462c78d7200fa8}{init\_cycle\_counter}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00391}00391 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00392}00392 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00398}\mbox{\hyperlink{perf__counter_8c_a9776dfed871d0e0775c876f16e7618f7}{00398}} \textcolor{keywordtype}{void} \mbox{\hyperlink{perf__counter_8c_a9776dfed871d0e0775c876f16e7618f7}{delay\_us}}(int32\_t nUs)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00399}00399 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00400}00400     int64\_t lUs = nUs * s\_nUSUnit;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00401}00401     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00402}00402     \textcolor{keywordflow}{if} (lUs <= \mbox{\hyperlink{perf__counter_8c_ad7332da0831148c773a7c5211d5bfa1e}{PERF\_CNT\_DELAY\_US\_COMPENSATION}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00403}00403         return ;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00404}00404     \} }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00405}00405     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00406}00406     lUs -\/= \mbox{\hyperlink{perf__counter_8c_ad7332da0831148c773a7c5211d5bfa1e}{PERF\_CNT\_DELAY\_US\_COMPENSATION}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00407}00407     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00408}00408     lUs += \mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00409}00409     \textcolor{keywordflow}{while}(\mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}() < lUs);}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00410}00410 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00411}00411 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00417}\mbox{\hyperlink{perf__counter_8c_a2add8ab5b23b568bba6d46f9c977dbce}{00417}} \textcolor{keywordtype}{void} \mbox{\hyperlink{perf__counter_8c_a2add8ab5b23b568bba6d46f9c977dbce}{delay\_ms}}(int32\_t nMs)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00418}00418 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00419}00419     int64\_t lUs = nMs * s\_nMSUnit;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00420}00420     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00421}00421     \textcolor{keywordflow}{if} (lUs <= \mbox{\hyperlink{perf__counter_8c_ad7332da0831148c773a7c5211d5bfa1e}{PERF\_CNT\_DELAY\_US\_COMPENSATION}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00422}00422         return ;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00423}00423     \} }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00424}00424     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00425}00425     lUs -\/= \mbox{\hyperlink{perf__counter_8c_ad7332da0831148c773a7c5211d5bfa1e}{PERF\_CNT\_DELAY\_US\_COMPENSATION}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00426}00426     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00427}00427     lUs += \mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00428}00428     \textcolor{keywordflow}{while}(\mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}() < lUs);}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00429}00429 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00430}00430 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00452}00452 \textcolor{preprocessor}{\#if !defined(\_\_IS\_COMPILER\_IAR\_\_)}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00453}00453 \_\_attribute\_\_((nothrow)) }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00454}00454 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00455}00455 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00456}00456 int64\_t clock(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00457}00457 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00458}00458     int64\_t lTemp = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00459}00459     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00460}00460     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00461}00461         lTemp = \mbox{\hyperlink{perf__counter_8c_a21ccde78f8ad778f05be60855c5a8283}{check\_systick}}() + s\_lSystemClockCounts;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00462}00462     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00463}00463 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00464}00464     \textcolor{keywordflow}{return} lTemp;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00465}00465 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00466}00466 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00472}\mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{00472}} int64\_t \mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00473}00473 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00474}00474     int64\_t lTemp = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00475}00475     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00476}00476     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00477}00477         lTemp = \mbox{\hyperlink{perf__counter_8c_a21ccde78f8ad778f05be60855c5a8283}{check\_systick}}() + s\_lSystemClockCounts;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00478}00478     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00479}00479 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00480}00480     \textcolor{keywordflow}{return} lTemp;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00481}00481 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00482}00482 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00488}\mbox{\hyperlink{perf__counter_8c_a98c51d83fdb448a2733d0a309366149c}{00488}} int32\_t \mbox{\hyperlink{perf__counter_8c_a98c51d83fdb448a2733d0a309366149c}{get\_system\_ms}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00489}00489 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00490}00490     int32\_t nTemp = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00491}00491     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00492}00492     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00493}00493         nTemp = s\_nSystemMS + (\mbox{\hyperlink{perf__counter_8c_a21ccde78f8ad778f05be60855c5a8283}{check\_systick}}() + s\_nMSResidule) / s\_nMSUnit;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00494}00494     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00495}00495     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00496}00496     \textcolor{keywordflow}{return} nTemp;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00497}00497 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00498}00498 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00499}00499 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00500}00500 \_\_WEAK }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00501}\mbox{\hyperlink{perf__counter_8c_a87abe08a2093c8c69e5f813f565a1d31}{00501}} \mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}} * \mbox{\hyperlink{perf__counter_8c_a87abe08a2093c8c69e5f813f565a1d31}{get\_rtos\_task\_cycle\_info}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00502}00502 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00503}00503     \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00504}00504 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00505}00505 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00506}\mbox{\hyperlink{perf__counter_8c_a74d7160e4b3588456a85fcdce6cee6ab}{00506}} \textcolor{keywordtype}{void} \mbox{\hyperlink{perf__counter_8c_a74d7160e4b3588456a85fcdce6cee6ab}{init\_task\_cycle\_counter}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00507}00507 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00508}00508     \textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} * ptRootAgent = }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00509}00509         (\textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *)\mbox{\hyperlink{perf__counter_8c_a87abe08a2093c8c69e5f813f565a1d31}{get\_rtos\_task\_cycle\_info}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00510}00510     \textcolor{keywordflow}{if} (NULL == ptRootAgent) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00511}00511         return ;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00512}00512     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00513}00513     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00514}00514     memset(ptRootAgent, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}}));}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00515}00515     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00516}00516     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a7d50a2272c4a1b65f927e8c6d1242b33}{tList}}.\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}} = \&(ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}});}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00517}00517     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}}.\mbox{\hyperlink{structtask__cycle__info__t_a3b941eea48497afb204462c694bc2d12}{lStart}} = \mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00518}00518     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a88c8aad5ae23ae04fa44b2892081561b}{wMagicWord}} = \mbox{\hyperlink{perf__counter_8c_acd6c9ac2bce565b27fef68a011411100}{MAGIC\_WORD\_CANARY}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00519}00519 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00520}00520 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00521}\mbox{\hyperlink{perf__counter_8c_af5404b4b72cfaf910fb2ebeb8d7a4448}{00521}} \mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}} *\mbox{\hyperlink{perf__counter_8c_af5404b4b72cfaf910fb2ebeb8d7a4448}{init\_task\_cycle\_info}}(\mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}} *ptInfo)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00522}00522 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00523}00523     \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00524}00524         \textcolor{keywordflow}{if} (NULL == ptInfo) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00525}00525             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00526}00526         \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00527}00527 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00528}00528         memset(ptInfo, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}}));}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00529}00529 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00530}00530         ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00531}00531     \} \textcolor{keywordflow}{while}(0);}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00532}00532     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00533}00533     \textcolor{keywordflow}{return} ptInfo;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00534}00534 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00535}00535 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00536}\mbox{\hyperlink{perf__counter_8c_ae2c015694f2e89240466e9b1d423c6ec}{00536}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{perf__counter_8c_ae2c015694f2e89240466e9b1d423c6ec}{enable\_task\_cycle\_info}}(\mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}} *ptInfo)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00537}00537 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00538}00538     \textcolor{keywordflow}{if} (NULL == ptInfo) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00539}00539         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00540}00540     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00541}00541     \textcolor{keywordtype}{bool} bOrig;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00542}00542     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00543}00543         bOrig = ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00544}00544         ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00545}00545     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00546}00546     \textcolor{keywordflow}{return} bOrig;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00547}00547 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00548}00548 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00549}\mbox{\hyperlink{perf__counter_8c_a01d6cd52b6c48c1e0c8a68b48ad87b0c}{00549}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{perf__counter_8c_a01d6cd52b6c48c1e0c8a68b48ad87b0c}{disable\_task\_cycle\_info}}(\mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}} *ptInfo)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00550}00550 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00551}00551     \textcolor{keywordflow}{if} (NULL == ptInfo) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00552}00552         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00553}00553     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00554}00554     \textcolor{keywordtype}{bool} bOrig;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00555}00555     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00556}00556         bOrig = ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00557}00557         ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00558}00558     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00559}00559     \textcolor{keywordflow}{return} bOrig;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00560}00560 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00561}00561 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00562}\mbox{\hyperlink{perf__counter_8c_a79c2926ae10e2cc327faf58e6094866d}{00562}} \textcolor{keywordtype}{void} \mbox{\hyperlink{perf__counter_8c_a79c2926ae10e2cc327faf58e6094866d}{resume\_task\_cycle\_info}}(\mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}} *ptInfo, \textcolor{keywordtype}{bool} bEnabledStatus)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00563}00563 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00564}00564     \textcolor{keywordflow}{if} (NULL == ptInfo) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00565}00565         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00566}00566     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00567}00567 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00568}00568     ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}} = bEnabledStatus;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00569}00569 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00570}00570 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00571}00571 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00572}\mbox{\hyperlink{perf__counter_8c_a0df8fe57dbd607e1992149a890612476}{00572}} \mbox{\hyperlink{structtask__cycle__info__agent__t}{task\_cycle\_info\_agent\_t}} *\mbox{\hyperlink{perf__counter_8c_a0df8fe57dbd607e1992149a890612476}{register\_task\_cycle\_agent}}(\mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}} *ptInfo,}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00573}00573                                              \mbox{\hyperlink{structtask__cycle__info__agent__t}{task\_cycle\_info\_agent\_t}} *ptAgent)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00574}00574 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00575}00575     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00576}00576         \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00577}00577             \textcolor{keywordflow}{if} (NULL == ptAgent || NULL == ptInfo) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00578}00578                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00579}00579             \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00580}00580             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00581}00581             \textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} * ptRootAgent = }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00582}00582                 (\textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *)\mbox{\hyperlink{perf__counter_8c_a87abe08a2093c8c69e5f813f565a1d31}{get\_rtos\_task\_cycle\_info}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00583}00583             \textcolor{keywordflow}{if} (NULL == ptRootAgent) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00584}00584                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00585}00585             \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00586}00586             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00587}00587             ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a88c8aad5ae23ae04fa44b2892081561b}{wMagicWord}} = \mbox{\hyperlink{perf__counter_8c_a5ed2b69d382ff960de71b5aa2e0b0deb}{MAGIC\_WORD\_AGENT\_LIST\_VALID}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00588}00588             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00589}00589             ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}} = ptInfo;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00590}00590             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00592}00592             \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00594}00594                 ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}} = ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a7d50a2272c4a1b65f927e8c6d1242b33}{tList}}.\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00595}00595                 ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a7d50a2272c4a1b65f927e8c6d1242b33}{tList}}.\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}} = ptAgent;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00596}00596                 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00598}00598                 ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a0ab0ef208ec46b60dce3d05a76754931}{ptPrev}} = \&(ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a7d50a2272c4a1b65f927e8c6d1242b33}{tList}});}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00599}00599                 \textcolor{keywordflow}{if} (NULL != ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00600}00600                     ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}}-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a0ab0ef208ec46b60dce3d05a76754931}{ptPrev}} = ptAgent;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00601}00601                 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00602}00602             \} \textcolor{keywordflow}{while}(0);}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00603}00603         }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00604}00604         \} \textcolor{keywordflow}{while}(0);}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00605}00605     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00606}00606     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00607}00607     \textcolor{keywordflow}{return} ptAgent;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00608}00608 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00609}00609 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00610}00610 \mbox{\hyperlink{structtask__cycle__info__agent__t}{task\_cycle\_info\_agent\_t}} *}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00611}\mbox{\hyperlink{perf__counter_8c_ae8c905d7221a7299fba5edbbfe1f449f}{00611}} \mbox{\hyperlink{perf__counter_8c_ae8c905d7221a7299fba5edbbfe1f449f}{unregister\_task\_cycle\_agent}}(\mbox{\hyperlink{structtask__cycle__info__agent__t}{task\_cycle\_info\_agent\_t}} *ptAgent)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00612}00612 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00613}00613     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00614}00614         \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00615}00615             \textcolor{keywordflow}{if} (NULL == ptAgent) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00616}00616                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00617}00617             \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00618}00618             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00619}00619             \mbox{\hyperlink{structtask__cycle__info__agent__t}{task\_cycle\_info\_agent\_t}} *ptPrev = ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a0ab0ef208ec46b60dce3d05a76754931}{ptPrev}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00620}00620             \textcolor{keywordflow}{if} (NULL == ptPrev) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00621}00621                 \textcolor{keywordflow}{break};      \textcolor{comment}{/* this should not happen */}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00622}00622             \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00623}00623             \textcolor{keywordflow}{if} (ptPrev-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}} != ptAgent) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00625}00625                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00626}00626             \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00627}00627             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00629}00629             ptPrev-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}} = ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00630}00630             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00631}00631             \textcolor{keywordflow}{if} (NULL != ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00633}00633                 ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}}-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a0ab0ef208ec46b60dce3d05a76754931}{ptPrev}} = ptPrev;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00634}00634             \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00635}00635             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00636}00636             ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}} = NULL;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00637}00637             ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a0ab0ef208ec46b60dce3d05a76754931}{ptPrev}} = NULL;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00638}00638             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00639}00639         \} \textcolor{keywordflow}{while}(0);}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00640}00640     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00641}00641     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00642}00642     \textcolor{keywordflow}{return} ptAgent;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00643}00643 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00644}00644 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00645}00645 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00646}\mbox{\hyperlink{perf__counter_8c_aded00de9fbde9be7f8872f85685b36a4}{00646}} \textcolor{keywordtype}{void} \mbox{\hyperlink{perf__counter_8c_aded00de9fbde9be7f8872f85685b36a4}{\_\_on\_context\_switch\_in}}(uint32\_t *pwStack)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00647}00647 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00648}00648     \textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *ptRootAgent = (\textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *)pwStack;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00649}00649     uint64\_t dwTimeStamp = \mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00650}00650     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00651}00651     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_ae2aae11f91e3eea654ceeac9b81706cb}{lLastTimeStamp}} = dwTimeStamp;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00652}00652     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}}.\mbox{\hyperlink{structtask__cycle__info__t_a84d3729a2d49dd2e43ef8727fcd6f9b0}{hwActiveCount}}++;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00653}00653 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00654}00654     \textcolor{keywordflow}{if} (\mbox{\hyperlink{perf__counter_8c_a5ed2b69d382ff960de71b5aa2e0b0deb}{MAGIC\_WORD\_AGENT\_LIST\_VALID}} == ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a88c8aad5ae23ae04fa44b2892081561b}{wMagicWord}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00656}00656         \mbox{\hyperlink{structtask__cycle__info__agent__t}{task\_cycle\_info\_agent\_t}} *ptAgent = ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a7d50a2272c4a1b65f927e8c6d1242b33}{tList}}.\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00657}00657         \textcolor{keywordflow}{while}(NULL != ptAgent) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00658}00658             \textcolor{keywordflow}{if} (NULL != ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00659}00659                 \textcolor{keywordflow}{if} (ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00660}00660                     ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}-\/>\mbox{\hyperlink{structtask__cycle__info__t_a84d3729a2d49dd2e43ef8727fcd6f9b0}{hwActiveCount}}++;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00661}00661                 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00662}00662             \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00663}00663             ptAgent = ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00664}00664         \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00665}00665     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00666}00666 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00667}00667 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00668}\mbox{\hyperlink{perf__counter_8c_aee2926404ade74811fa658786035f745}{00668}} \textcolor{keywordtype}{void} \mbox{\hyperlink{perf__counter_8c_aee2926404ade74811fa658786035f745}{\_\_on\_context\_switch\_out}}(uint32\_t *pwStack)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00669}00669 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00670}00670     \textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *ptRootAgent = (\textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *)pwStack;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00671}00671     int64\_t lCycleUsed = \mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}() -\/ ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_ae2aae11f91e3eea654ceeac9b81706cb}{lLastTimeStamp}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00672}00672     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00673}00673     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}}.\mbox{\hyperlink{structtask__cycle__info__t_a0250b43cfb57ddf17f7f40c4cc587249}{nUsedRecent}} = lCycleUsed;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00674}00674     ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}}.\mbox{\hyperlink{structtask__cycle__info__t_a19a46cbd05039f568b01e326d65d6b80}{lUsedTotal}} += lCycleUsed;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00675}00675     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00676}00676     \textcolor{keywordflow}{if} (\mbox{\hyperlink{perf__counter_8c_a5ed2b69d382ff960de71b5aa2e0b0deb}{MAGIC\_WORD\_AGENT\_LIST\_VALID}} == ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a88c8aad5ae23ae04fa44b2892081561b}{wMagicWord}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00678}00678         \mbox{\hyperlink{structtask__cycle__info__agent__t}{task\_cycle\_info\_agent\_t}} *ptAgent = ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a7d50a2272c4a1b65f927e8c6d1242b33}{tList}}.\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00679}00679         \textcolor{keywordflow}{while}(NULL != ptAgent) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00680}00680             \textcolor{keywordflow}{if} (NULL != ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00681}00681                 \textcolor{keywordflow}{if} (ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00682}00682                     ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}-\/>\mbox{\hyperlink{structtask__cycle__info__t_a0250b43cfb57ddf17f7f40c4cc587249}{nUsedRecent}} = lCycleUsed;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00683}00683                     ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a26adda6b75d3722f450eb169546bd7e7}{ptInfo}}-\/>\mbox{\hyperlink{structtask__cycle__info__t_a19a46cbd05039f568b01e326d65d6b80}{lUsedTotal}} += lCycleUsed;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00684}00684                 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00685}00685             \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00686}00686             ptAgent = ptAgent-\/>\mbox{\hyperlink{structtask__cycle__info__agent__t_a3f049d289ce99f316894417016d60ca6}{ptNext}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00687}00687         \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00688}00688     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00689}00689 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00690}00690 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00691}\mbox{\hyperlink{perf__counter_8c_ad17c3ab8fb4c68ebc676562ab00770a1}{00691}} \textcolor{keywordtype}{void} \mbox{\hyperlink{perf__counter_8c_ad17c3ab8fb4c68ebc676562ab00770a1}{\_\_start\_task\_cycle\_counter}}(\mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}} *ptInfo)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00692}00692 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00693}00693     \textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} * ptRootAgent = }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00694}00694         (\textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *)\mbox{\hyperlink{perf__counter_8c_a87abe08a2093c8c69e5f813f565a1d31}{get\_rtos\_task\_cycle\_info}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00695}00695     \textcolor{keywordflow}{if} (NULL == ptRootAgent) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00696}00696         return ;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00697}00697     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00698}00698     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00699}00699     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00700}00700         ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_ae2aae11f91e3eea654ceeac9b81706cb}{lLastTimeStamp}} = \mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00701}00701         ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}}.\mbox{\hyperlink{structtask__cycle__info__t_a19a46cbd05039f568b01e326d65d6b80}{lUsedTotal}} = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00702}00702         }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00703}00703         \textcolor{keywordflow}{if} (NULL != ptInfo) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00704}00704             ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a19a46cbd05039f568b01e326d65d6b80}{lUsedTotal}} = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00705}00705             ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00706}00706         \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00707}00707     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00708}00708 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00709}00709 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00710}00710 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00711}\mbox{\hyperlink{perf__counter_8c_a81a5dabf3ca19922587390de6c9f0ff5}{00711}} int64\_t \mbox{\hyperlink{perf__counter_8c_a81a5dabf3ca19922587390de6c9f0ff5}{\_\_stop\_task\_cycle\_counter}}(\mbox{\hyperlink{structtask__cycle__info__t}{task\_cycle\_info\_t}} *ptInfo)}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00712}00712 \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00713}00713     \textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} * ptRootAgent = }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00714}00714         (\textcolor{keyword}{struct }\mbox{\hyperlink{struct____task__cycle__info__t}{\_\_task\_cycle\_info\_t}} *)\mbox{\hyperlink{perf__counter_8c_a87abe08a2093c8c69e5f813f565a1d31}{get\_rtos\_task\_cycle\_info}}();}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00715}00715     \textcolor{keywordflow}{if} (NULL == ptRootAgent) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00716}00716         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00717}00717     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00718}00718     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00719}00719     int64\_t lCycles = 0;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00720}00720     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00721}00721     \mbox{\hyperlink{perf__counter_8h_a966a3eb20671a2a8c44d63d459f5472e}{\_\_IRQ\_SAFE}} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00722}00722         int64\_t lCycleUsed = \mbox{\hyperlink{perf__counter_8c_a32dabfe5b863f89f71735b20a0caf1ea}{get\_system\_ticks}}() -\/ ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_ae2aae11f91e3eea654ceeac9b81706cb}{lLastTimeStamp}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00723}00723         ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}}.\mbox{\hyperlink{structtask__cycle__info__t_a19a46cbd05039f568b01e326d65d6b80}{lUsedTotal}} += lCycleUsed;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00724}00724 }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00725}00725         \textcolor{keywordflow}{if} (NULL != ptInfo) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00726}00726             \textcolor{keywordflow}{if} (ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}}) \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00727}00727                 ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a0250b43cfb57ddf17f7f40c4cc587249}{nUsedRecent}} = lCycleUsed;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00728}00728                 ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a19a46cbd05039f568b01e326d65d6b80}{lUsedTotal}} += lCycleUsed;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00729}00729                 ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a8a4c67264f8440bb83dec68c4312ff09}{bEnabled}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00730}00730             \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00731}00731             }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00732}00732             lCycles = ptInfo-\/>\mbox{\hyperlink{structtask__cycle__info__t_a19a46cbd05039f568b01e326d65d6b80}{lUsedTotal}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00733}00733         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00734}00734             lCycles = ptRootAgent-\/>\mbox{\hyperlink{struct____task__cycle__info__t_a8af024785267321e4ef544e7f25d80dc}{tInfo}}.\mbox{\hyperlink{structtask__cycle__info__t_a19a46cbd05039f568b01e326d65d6b80}{lUsedTotal}};}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00735}00735         \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00736}00736     \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00737}00737     }
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00738}00738     \textcolor{keywordflow}{return} lCycles;}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00739}00739 \}}
\DoxyCodeLine{\Hypertarget{perf__counter_8c_source_l00740}00740 }

\end{DoxyCode}
