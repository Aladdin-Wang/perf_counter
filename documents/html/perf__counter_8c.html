<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>perf_counter: perf_counter.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">perf_counter
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('perf__counter_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">perf_counter.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;cmsis_compiler.h&quot;</code><br />
<code>#include &quot;<a class="el" href="perf__counter_8h_source.html">perf_counter.h</a>&quot;</code><br />
</div>
<p><a href="perf__counter_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_sys_tick___type.html">SysTick_Type</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure type to access the System Timer (SysTick).  <a href="struct_sys_tick___type.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_c_b___type.html">SCB_Type</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure type to access the System Control Block (SCB).  <a href="struct_s_c_b___type.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afedb615b5c48d33ad8523f92078bf66c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#afedb615b5c48d33ad8523f92078bf66c">__IMPLEMENT_PERF_COUNTER</a></td></tr>
<tr class="separator:afedb615b5c48d33ad8523f92078bf66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f17a2b1bde9a2632daa7ad0b96df9e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a0f17a2b1bde9a2632daa7ad0b96df9e5">PERF_CNT_COMPENSATION_THRESHOLD</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a0f17a2b1bde9a2632daa7ad0b96df9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7332da0831148c773a7c5211d5bfa1e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#ad7332da0831148c773a7c5211d5bfa1e">PERF_CNT_DELAY_US_COMPENSATION</a>&#160;&#160;&#160;90</td></tr>
<tr class="separator:ad7332da0831148c773a7c5211d5bfa1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63697ed9952cc71e1225efe205f6cd3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#af63697ed9952cc71e1225efe205f6cd3">__I</a>&#160;&#160;&#160;volatile const</td></tr>
<tr class="separator:af63697ed9952cc71e1225efe205f6cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e25d9380f9ef903923964322e71f2f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a7e25d9380f9ef903923964322e71f2f6">__O</a>&#160;&#160;&#160;volatile</td></tr>
<tr class="separator:a7e25d9380f9ef903923964322e71f2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec43007d9998a0a0e01faede4133d6be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#aec43007d9998a0a0e01faede4133d6be">__IO</a>&#160;&#160;&#160;volatile</td></tr>
<tr class="separator:aec43007d9998a0a0e01faede4133d6be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc1649793116d7c2d8afce7a4ffce43"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a4cc1649793116d7c2d8afce7a4ffce43">__IM</a>&#160;&#160;&#160;volatile const      /*! Defines 'read only' structure member permissions */</td></tr>
<tr class="separator:a4cc1649793116d7c2d8afce7a4ffce43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea2009ed8fd9ef35b48708280fdb758"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a0ea2009ed8fd9ef35b48708280fdb758">__OM</a>&#160;&#160;&#160;volatile            /*! Defines 'write only' structure member permissions */</td></tr>
<tr class="separator:a0ea2009ed8fd9ef35b48708280fdb758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6caba5853a60a17e8e04499b52bf691"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#ab6caba5853a60a17e8e04499b52bf691">__IOM</a>&#160;&#160;&#160;volatile            /*! Defines 'read / write' structure member permissions */</td></tr>
<tr class="separator:ab6caba5853a60a17e8e04499b52bf691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c14ed93192c8d9143322bbf77ebf770"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a3c14ed93192c8d9143322bbf77ebf770">SCS_BASE</a>&#160;&#160;&#160;(0xE000E000UL)</td></tr>
<tr class="separator:a3c14ed93192c8d9143322bbf77ebf770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58effaac0b93006b756d33209e814646"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a58effaac0b93006b756d33209e814646">SysTick_BASE</a>&#160;&#160;&#160;(<a class="el" href="perf__counter_8c.html#a3c14ed93192c8d9143322bbf77ebf770">SCS_BASE</a> +  0x0010UL)</td></tr>
<tr class="separator:a58effaac0b93006b756d33209e814646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55a7ddb8d4b2398b0c1cfec76c0d9fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#ad55a7ddb8d4b2398b0c1cfec76c0d9fd">SCB_BASE</a>&#160;&#160;&#160;(<a class="el" href="perf__counter_8c.html#a3c14ed93192c8d9143322bbf77ebf770">SCS_BASE</a> +  0x0D00UL)</td></tr>
<tr class="separator:ad55a7ddb8d4b2398b0c1cfec76c0d9fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd96c53beeaff8f603fcda425eb295de"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>&#160;&#160;&#160;((<a class="el" href="struct_sys_tick___type.html">SysTick_Type</a>   *)     <a class="el" href="perf__counter_8c.html#a58effaac0b93006b756d33209e814646">SysTick_BASE</a>     )</td></tr>
<tr class="separator:acd96c53beeaff8f603fcda425eb295de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf6477c2bde2f00f99e3c2fd1060b01"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#aaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a>&#160;&#160;&#160;((<a class="el" href="struct_s_c_b___type.html">SCB_Type</a>       *)     <a class="el" href="perf__counter_8c.html#ad55a7ddb8d4b2398b0c1cfec76c0d9fd">SCB_BASE</a>      )</td></tr>
<tr class="separator:aaaf6477c2bde2f00f99e3c2fd1060b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb65d4a815759649db41df216ed4d60"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#adbb65d4a815759649db41df216ed4d60">SysTick_CTRL_COUNTFLAG_Pos</a>&#160;&#160;&#160;16U</td></tr>
<tr class="separator:adbb65d4a815759649db41df216ed4d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf3033ecccf200f59baefe15dbb367c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a1bf3033ecccf200f59baefe15dbb367c">SysTick_CTRL_COUNTFLAG_Msk</a>&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#adbb65d4a815759649db41df216ed4d60">SysTick_CTRL_COUNTFLAG_Pos</a>)</td></tr>
<tr class="separator:a1bf3033ecccf200f59baefe15dbb367c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24fbc69a5f0b78d67fda2300257baff1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a24fbc69a5f0b78d67fda2300257baff1">SysTick_CTRL_CLKSOURCE_Pos</a>&#160;&#160;&#160;2U</td></tr>
<tr class="separator:a24fbc69a5f0b78d67fda2300257baff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa41d06039797423a46596bd313d57373"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#aa41d06039797423a46596bd313d57373">SysTick_CTRL_CLKSOURCE_Msk</a>&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#a24fbc69a5f0b78d67fda2300257baff1">SysTick_CTRL_CLKSOURCE_Pos</a>)</td></tr>
<tr class="separator:aa41d06039797423a46596bd313d57373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f45bbb89ce8df3cd2b2613c7b48214"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a88f45bbb89ce8df3cd2b2613c7b48214">SysTick_CTRL_TICKINT_Pos</a>&#160;&#160;&#160;1U</td></tr>
<tr class="separator:a88f45bbb89ce8df3cd2b2613c7b48214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95bb984266ca764024836a870238a027"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a95bb984266ca764024836a870238a027">SysTick_CTRL_TICKINT_Msk</a>&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#a88f45bbb89ce8df3cd2b2613c7b48214">SysTick_CTRL_TICKINT_Pos</a>)</td></tr>
<tr class="separator:a95bb984266ca764024836a870238a027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b48cc1e36d92a92e4bf632890314810"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a0b48cc1e36d92a92e4bf632890314810">SysTick_CTRL_ENABLE_Pos</a>&#160;&#160;&#160;0U</td></tr>
<tr class="separator:a0b48cc1e36d92a92e4bf632890314810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c9fee0ed0235524bdeb38af328fd1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a16c9fee0ed0235524bdeb38af328fd1f">SysTick_CTRL_ENABLE_Msk</a>&#160;&#160;&#160;(1UL /*&lt;&lt; <a class="el" href="perf__counter_8c.html#a0b48cc1e36d92a92e4bf632890314810">SysTick_CTRL_ENABLE_Pos</a>*/)</td></tr>
<tr class="separator:a16c9fee0ed0235524bdeb38af328fd1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44d10df359dc5bf5752b0894ae3bad2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#af44d10df359dc5bf5752b0894ae3bad2">SysTick_LOAD_RELOAD_Pos</a>&#160;&#160;&#160;0U</td></tr>
<tr class="separator:af44d10df359dc5bf5752b0894ae3bad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265912a7962f0e1abd170336e579b1b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a265912a7962f0e1abd170336e579b1b1">SysTick_LOAD_RELOAD_Msk</a>&#160;&#160;&#160;(0xFFFFFFUL /*&lt;&lt; <a class="el" href="perf__counter_8c.html#af44d10df359dc5bf5752b0894ae3bad2">SysTick_LOAD_RELOAD_Pos</a>*/)</td></tr>
<tr class="separator:a265912a7962f0e1abd170336e579b1b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3208104c3b019b5de35ae8c21d5c34dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a3208104c3b019b5de35ae8c21d5c34dd">SysTick_VAL_CURRENT_Pos</a>&#160;&#160;&#160;0U</td></tr>
<tr class="separator:a3208104c3b019b5de35ae8c21d5c34dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc77b56d568930b49a2474debc75ab45"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#afc77b56d568930b49a2474debc75ab45">SysTick_VAL_CURRENT_Msk</a>&#160;&#160;&#160;(0xFFFFFFUL /*&lt;&lt; <a class="el" href="perf__counter_8c.html#a3208104c3b019b5de35ae8c21d5c34dd">SysTick_VAL_CURRENT_Pos</a>*/)</td></tr>
<tr class="separator:afc77b56d568930b49a2474debc75ab45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534dbe414e7a46a6ce4c1eca1fbff409"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a534dbe414e7a46a6ce4c1eca1fbff409">SysTick_CALIB_NOREF_Pos</a>&#160;&#160;&#160;31U</td></tr>
<tr class="separator:a534dbe414e7a46a6ce4c1eca1fbff409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3af0d891fdd99bcc8d8912d37830edb6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a3af0d891fdd99bcc8d8912d37830edb6">SysTick_CALIB_NOREF_Msk</a>&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#a534dbe414e7a46a6ce4c1eca1fbff409">SysTick_CALIB_NOREF_Pos</a>)</td></tr>
<tr class="separator:a3af0d891fdd99bcc8d8912d37830edb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add0c9cd6641b9f6a0c618e7982954860"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#add0c9cd6641b9f6a0c618e7982954860">SysTick_CALIB_SKEW_Pos</a>&#160;&#160;&#160;30U</td></tr>
<tr class="separator:add0c9cd6641b9f6a0c618e7982954860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6a85a87334776f33d77fd147587431"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a8a6a85a87334776f33d77fd147587431">SysTick_CALIB_SKEW_Msk</a>&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#add0c9cd6641b9f6a0c618e7982954860">SysTick_CALIB_SKEW_Pos</a>)</td></tr>
<tr class="separator:a8a6a85a87334776f33d77fd147587431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acae558f6e75a0bed5d826f606d8e695e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#acae558f6e75a0bed5d826f606d8e695e">SysTick_CALIB_TENMS_Pos</a>&#160;&#160;&#160;0U</td></tr>
<tr class="separator:acae558f6e75a0bed5d826f606d8e695e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1e68865c5aece2ad58971225bd3e95e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#af1e68865c5aece2ad58971225bd3e95e">SysTick_CALIB_TENMS_Msk</a>&#160;&#160;&#160;(0xFFFFFFUL /*&lt;&lt; <a class="el" href="perf__counter_8c.html#acae558f6e75a0bed5d826f606d8e695e">SysTick_CALIB_TENMS_Pos</a>*/)</td></tr>
<tr class="separator:af1e68865c5aece2ad58971225bd3e95e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbe25e4b333ece1341beb1a740168fdc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#adbe25e4b333ece1341beb1a740168fdc">SCB_ICSR_PENDSTCLR_Pos</a>&#160;&#160;&#160;25U</td></tr>
<tr class="separator:adbe25e4b333ece1341beb1a740168fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab241827d2a793269d8cd99b9b28c2157"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#ab241827d2a793269d8cd99b9b28c2157">SCB_ICSR_PENDSTCLR_Msk</a>&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#adbe25e4b333ece1341beb1a740168fdc">SCB_ICSR_PENDSTCLR_Pos</a>)</td></tr>
<tr class="separator:ab241827d2a793269d8cd99b9b28c2157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dbb3358c6167c9c3f85661b90fb2794"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a9dbb3358c6167c9c3f85661b90fb2794">SCB_ICSR_PENDSTSET_Pos</a>&#160;&#160;&#160;26U</td></tr>
<tr class="separator:a9dbb3358c6167c9c3f85661b90fb2794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7325b61ea0ec323ef2d5c893b112e546"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a7325b61ea0ec323ef2d5c893b112e546">SCB_ICSR_PENDSTSET_Msk</a>&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#a9dbb3358c6167c9c3f85661b90fb2794">SCB_ICSR_PENDSTSET_Pos</a>)</td></tr>
<tr class="separator:a7325b61ea0ec323ef2d5c893b112e546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed2b69d382ff960de71b5aa2e0b0deb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a5ed2b69d382ff960de71b5aa2e0b0deb">MAGIC_WORD_AGENT_LIST_VALID</a>&#160;&#160;&#160;0x8492A53C</td></tr>
<tr class="separator:a5ed2b69d382ff960de71b5aa2e0b0deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6c9ac2bce565b27fef68a011411100"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#acd6c9ac2bce565b27fef68a011411100">MAGIC_WORD_CANARY</a>&#160;&#160;&#160;0xDEADBEEF</td></tr>
<tr class="separator:acd6c9ac2bce565b27fef68a011411100"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae4e8f0238527c69f522029b93c8e5b78"><td class="memItemLeft" align="right" valign="top">__STATIC_INLINE uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#ae4e8f0238527c69f522029b93c8e5b78">SysTick_Config</a> (uint32_t ticks)</td></tr>
<tr class="memdesc:ae4e8f0238527c69f522029b93c8e5b78"><td class="mdescLeft">&#160;</td><td class="mdescRight">System Tick Configuration.  <a href="perf__counter_8c.html#ae4e8f0238527c69f522029b93c8e5b78">More...</a><br /></td></tr>
<tr class="separator:ae4e8f0238527c69f522029b93c8e5b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a6e5160f19f152b0b9a502e5e24adb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a0a6e5160f19f152b0b9a502e5e24adb7">user_code_insert_to_systick_handler</a> (void)</td></tr>
<tr class="separator:a0a6e5160f19f152b0b9a502e5e24adb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4781d1de67a0b4fd21656377d0a2a0bc"><td class="memItemLeft" align="right" valign="top">__WEAK void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a4781d1de67a0b4fd21656377d0a2a0bc">__perf_os_patch_init</a> (void)</td></tr>
<tr class="separator:a4781d1de67a0b4fd21656377d0a2a0bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9097d62a30ad2b4f75462c78d7200fa8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a9097d62a30ad2b4f75462c78d7200fa8">init_cycle_counter</a> (bool bIsSysTickOccupied)</td></tr>
<tr class="memdesc:a9097d62a30ad2b4f75462c78d7200fa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialise cycle counter service  <a href="perf__counter_8c.html#a9097d62a30ad2b4f75462c78d7200fa8">More...</a><br /></td></tr>
<tr class="separator:a9097d62a30ad2b4f75462c78d7200fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af33fd92801223d4befa49c610332ddd4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#af33fd92801223d4befa49c610332ddd4">start_cycle_counter</a> (void)</td></tr>
<tr class="memdesc:af33fd92801223d4befa49c610332ddd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">try to set a start pointer for the performance counter  <a href="perf__counter_8c.html#af33fd92801223d4befa49c610332ddd4">More...</a><br /></td></tr>
<tr class="separator:af33fd92801223d4befa49c610332ddd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ccde78f8ad778f05be60855c5a8283"><td class="memItemLeft" align="right" valign="top">__STATIC_INLINE int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a21ccde78f8ad778f05be60855c5a8283">check_systick</a> (void)</td></tr>
<tr class="separator:a21ccde78f8ad778f05be60855c5a8283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a014af75d3945894c4740773e8a28d723"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a014af75d3945894c4740773e8a28d723">stop_cycle_counter</a> (void)</td></tr>
<tr class="memdesc:a014af75d3945894c4740773e8a28d723"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculate the elapsed cycle count since the last start point  <a href="perf__counter_8c.html#a014af75d3945894c4740773e8a28d723">More...</a><br /></td></tr>
<tr class="separator:a014af75d3945894c4740773e8a28d723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9776dfed871d0e0775c876f16e7618f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a9776dfed871d0e0775c876f16e7618f7">delay_us</a> (int32_t nUs)</td></tr>
<tr class="memdesc:a9776dfed871d0e0775c876f16e7618f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">delay specified time in microsecond  <a href="perf__counter_8c.html#a9776dfed871d0e0775c876f16e7618f7">More...</a><br /></td></tr>
<tr class="separator:a9776dfed871d0e0775c876f16e7618f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2add8ab5b23b568bba6d46f9c977dbce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a2add8ab5b23b568bba6d46f9c977dbce">delay_ms</a> (int32_t nMs)</td></tr>
<tr class="memdesc:a2add8ab5b23b568bba6d46f9c977dbce"><td class="mdescLeft">&#160;</td><td class="mdescRight">delay specified time in millisecond  <a href="perf__counter_8c.html#a2add8ab5b23b568bba6d46f9c977dbce">More...</a><br /></td></tr>
<tr class="separator:a2add8ab5b23b568bba6d46f9c977dbce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32dabfe5b863f89f71735b20a0caf1ea"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a> (void)</td></tr>
<tr class="memdesc:a32dabfe5b863f89f71735b20a0caf1ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the elapsed cycles since perf_counter is initialised  <a href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">More...</a><br /></td></tr>
<tr class="separator:a32dabfe5b863f89f71735b20a0caf1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c51d83fdb448a2733d0a309366149c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a98c51d83fdb448a2733d0a309366149c">get_system_ms</a> (void)</td></tr>
<tr class="memdesc:a98c51d83fdb448a2733d0a309366149c"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the elapsed milliseconds since perf_counter is initialised  <a href="perf__counter_8c.html#a98c51d83fdb448a2733d0a309366149c">More...</a><br /></td></tr>
<tr class="separator:a98c51d83fdb448a2733d0a309366149c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87abe08a2093c8c69e5f813f565a1d31"><td class="memItemLeft" align="right" valign="top">__WEAK <a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a87abe08a2093c8c69e5f813f565a1d31">get_rtos_task_cycle_info</a> (void)</td></tr>
<tr class="separator:a87abe08a2093c8c69e5f813f565a1d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d7160e4b3588456a85fcdce6cee6ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a74d7160e4b3588456a85fcdce6cee6ab">init_task_cycle_counter</a> (void)</td></tr>
<tr class="separator:a74d7160e4b3588456a85fcdce6cee6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5404b4b72cfaf910fb2ebeb8d7a4448"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#af5404b4b72cfaf910fb2ebeb8d7a4448">init_task_cycle_info</a> (<a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *ptInfo)</td></tr>
<tr class="separator:af5404b4b72cfaf910fb2ebeb8d7a4448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2c015694f2e89240466e9b1d423c6ec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#ae2c015694f2e89240466e9b1d423c6ec">enable_task_cycle_info</a> (<a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *ptInfo)</td></tr>
<tr class="separator:ae2c015694f2e89240466e9b1d423c6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d6cd52b6c48c1e0c8a68b48ad87b0c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a01d6cd52b6c48c1e0c8a68b48ad87b0c">disable_task_cycle_info</a> (<a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *ptInfo)</td></tr>
<tr class="separator:a01d6cd52b6c48c1e0c8a68b48ad87b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c2926ae10e2cc327faf58e6094866d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a79c2926ae10e2cc327faf58e6094866d">resume_task_cycle_info</a> (<a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *ptInfo, bool bEnabledStatus)</td></tr>
<tr class="separator:a79c2926ae10e2cc327faf58e6094866d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df8fe57dbd607e1992149a890612476"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a0df8fe57dbd607e1992149a890612476">register_task_cycle_agent</a> (<a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *ptInfo, <a class="el" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> *ptAgent)</td></tr>
<tr class="separator:a0df8fe57dbd607e1992149a890612476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c905d7221a7299fba5edbbfe1f449f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#ae8c905d7221a7299fba5edbbfe1f449f">unregister_task_cycle_agent</a> (<a class="el" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> *ptAgent)</td></tr>
<tr class="separator:ae8c905d7221a7299fba5edbbfe1f449f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded00de9fbde9be7f8872f85685b36a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#aded00de9fbde9be7f8872f85685b36a4">__on_context_switch_in</a> (uint32_t *pwStack)</td></tr>
<tr class="separator:aded00de9fbde9be7f8872f85685b36a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2926404ade74811fa658786035f745"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#aee2926404ade74811fa658786035f745">__on_context_switch_out</a> (uint32_t *pwStack)</td></tr>
<tr class="separator:aee2926404ade74811fa658786035f745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17c3ab8fb4c68ebc676562ab00770a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#ad17c3ab8fb4c68ebc676562ab00770a1">__start_task_cycle_counter</a> (<a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *ptInfo)</td></tr>
<tr class="separator:ad17c3ab8fb4c68ebc676562ab00770a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81a5dabf3ca19922587390de6c9f0ff5"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#a81a5dabf3ca19922587390de6c9f0ff5">__stop_task_cycle_counter</a> (<a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *ptInfo)</td></tr>
<tr class="separator:a81a5dabf3ca19922587390de6c9f0ff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa3cd3e43291e81e795d642b79b6088e6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__counter_8c.html#aa3cd3e43291e81e795d642b79b6088e6">SystemCoreClock</a></td></tr>
<tr class="separator:aa3cd3e43291e81e795d642b79b6088e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af63697ed9952cc71e1225efe205f6cd3" name="af63697ed9952cc71e1225efe205f6cd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af63697ed9952cc71e1225efe205f6cd3">&#9670;&nbsp;</a></span>__I</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __I&#160;&#160;&#160;volatile const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Defines 'read only' permissions </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00053">53</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a4cc1649793116d7c2d8afce7a4ffce43" name="a4cc1649793116d7c2d8afce7a4ffce43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cc1649793116d7c2d8afce7a4ffce43">&#9670;&nbsp;</a></span>__IM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __IM&#160;&#160;&#160;volatile const      /*! Defines 'read only' structure member permissions */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00059">59</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="afedb615b5c48d33ad8523f92078bf66c" name="afedb615b5c48d33ad8523f92078bf66c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afedb615b5c48d33ad8523f92078bf66c">&#9670;&nbsp;</a></span>__IMPLEMENT_PERF_COUNTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __IMPLEMENT_PERF_COUNTER</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00024">24</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="aec43007d9998a0a0e01faede4133d6be" name="aec43007d9998a0a0e01faede4133d6be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec43007d9998a0a0e01faede4133d6be">&#9670;&nbsp;</a></span>__IO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __IO&#160;&#160;&#160;volatile</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Defines 'read / write' permissions </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00056">56</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="ab6caba5853a60a17e8e04499b52bf691" name="ab6caba5853a60a17e8e04499b52bf691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6caba5853a60a17e8e04499b52bf691">&#9670;&nbsp;</a></span>__IOM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __IOM&#160;&#160;&#160;volatile            /*! Defines 'read / write' structure member permissions */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00061">61</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a7e25d9380f9ef903923964322e71f2f6" name="a7e25d9380f9ef903923964322e71f2f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e25d9380f9ef903923964322e71f2f6">&#9670;&nbsp;</a></span>__O</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __O&#160;&#160;&#160;volatile</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Defines 'write only' permissions </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00055">55</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a0ea2009ed8fd9ef35b48708280fdb758" name="a0ea2009ed8fd9ef35b48708280fdb758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ea2009ed8fd9ef35b48708280fdb758">&#9670;&nbsp;</a></span>__OM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __OM&#160;&#160;&#160;volatile            /*! Defines 'write only' structure member permissions */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00060">60</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a5ed2b69d382ff960de71b5aa2e0b0deb" name="a5ed2b69d382ff960de71b5aa2e0b0deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ed2b69d382ff960de71b5aa2e0b0deb">&#9670;&nbsp;</a></span>MAGIC_WORD_AGENT_LIST_VALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAGIC_WORD_AGENT_LIST_VALID&#160;&#160;&#160;0x8492A53C</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00111">111</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="acd6c9ac2bce565b27fef68a011411100" name="acd6c9ac2bce565b27fef68a011411100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd6c9ac2bce565b27fef68a011411100">&#9670;&nbsp;</a></span>MAGIC_WORD_CANARY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAGIC_WORD_CANARY&#160;&#160;&#160;0xDEADBEEF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00112">112</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a0f17a2b1bde9a2632daa7ad0b96df9e5" name="a0f17a2b1bde9a2632daa7ad0b96df9e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f17a2b1bde9a2632daa7ad0b96df9e5">&#9670;&nbsp;</a></span>PERF_CNT_COMPENSATION_THRESHOLD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PERF_CNT_COMPENSATION_THRESHOLD&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00034">34</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="ad7332da0831148c773a7c5211d5bfa1e" name="ad7332da0831148c773a7c5211d5bfa1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7332da0831148c773a7c5211d5bfa1e">&#9670;&nbsp;</a></span>PERF_CNT_DELAY_US_COMPENSATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PERF_CNT_DELAY_US_COMPENSATION&#160;&#160;&#160;90</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00038">38</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="aaaf6477c2bde2f00f99e3c2fd1060b01" name="aaaf6477c2bde2f00f99e3c2fd1060b01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaf6477c2bde2f00f99e3c2fd1060b01">&#9670;&nbsp;</a></span>SCB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCB&#160;&#160;&#160;((<a class="el" href="struct_s_c_b___type.html">SCB_Type</a>       *)     <a class="el" href="perf__counter_8c.html#ad55a7ddb8d4b2398b0c1cfec76c0d9fd">SCB_BASE</a>      )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SCB configuration struct </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00069">69</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="ad55a7ddb8d4b2398b0c1cfec76c0d9fd" name="ad55a7ddb8d4b2398b0c1cfec76c0d9fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad55a7ddb8d4b2398b0c1cfec76c0d9fd">&#9670;&nbsp;</a></span>SCB_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCB_BASE&#160;&#160;&#160;(<a class="el" href="perf__counter_8c.html#a3c14ed93192c8d9143322bbf77ebf770">SCS_BASE</a> +  0x0D00UL)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >System Control Block Base Address </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00066">66</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="ab241827d2a793269d8cd99b9b28c2157" name="ab241827d2a793269d8cd99b9b28c2157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab241827d2a793269d8cd99b9b28c2157">&#9670;&nbsp;</a></span>SCB_ICSR_PENDSTCLR_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCB_ICSR_PENDSTCLR_Msk&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#adbe25e4b333ece1341beb1a740168fdc">SCB_ICSR_PENDSTCLR_Pos</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SCB ICSR: PENDSTCLR Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00105">105</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="adbe25e4b333ece1341beb1a740168fdc" name="adbe25e4b333ece1341beb1a740168fdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbe25e4b333ece1341beb1a740168fdc">&#9670;&nbsp;</a></span>SCB_ICSR_PENDSTCLR_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCB_ICSR_PENDSTCLR_Pos&#160;&#160;&#160;25U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SCB ICSR: PENDSTCLR Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00104">104</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a7325b61ea0ec323ef2d5c893b112e546" name="a7325b61ea0ec323ef2d5c893b112e546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7325b61ea0ec323ef2d5c893b112e546">&#9670;&nbsp;</a></span>SCB_ICSR_PENDSTSET_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCB_ICSR_PENDSTSET_Msk&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#a9dbb3358c6167c9c3f85661b90fb2794">SCB_ICSR_PENDSTSET_Pos</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SCB ICSR: PENDSTSET Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00108">108</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a9dbb3358c6167c9c3f85661b90fb2794" name="a9dbb3358c6167c9c3f85661b90fb2794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dbb3358c6167c9c3f85661b90fb2794">&#9670;&nbsp;</a></span>SCB_ICSR_PENDSTSET_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCB_ICSR_PENDSTSET_Pos&#160;&#160;&#160;26U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SCB ICSR: PENDSTSET Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00107">107</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a3c14ed93192c8d9143322bbf77ebf770" name="a3c14ed93192c8d9143322bbf77ebf770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c14ed93192c8d9143322bbf77ebf770">&#9670;&nbsp;</a></span>SCS_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCS_BASE&#160;&#160;&#160;(0xE000E000UL)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >System Control Space Base Address </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00064">64</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="acd96c53beeaff8f603fcda425eb295de" name="acd96c53beeaff8f603fcda425eb295de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd96c53beeaff8f603fcda425eb295de">&#9670;&nbsp;</a></span>SysTick</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick&#160;&#160;&#160;((<a class="el" href="struct_sys_tick___type.html">SysTick_Type</a>   *)     <a class="el" href="perf__counter_8c.html#a58effaac0b93006b756d33209e814646">SysTick_BASE</a>     )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick configuration struct </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00068">68</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a58effaac0b93006b756d33209e814646" name="a58effaac0b93006b756d33209e814646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58effaac0b93006b756d33209e814646">&#9670;&nbsp;</a></span>SysTick_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_BASE&#160;&#160;&#160;(<a class="el" href="perf__counter_8c.html#a3c14ed93192c8d9143322bbf77ebf770">SCS_BASE</a> +  0x0010UL)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick Base Address </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00065">65</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a3af0d891fdd99bcc8d8912d37830edb6" name="a3af0d891fdd99bcc8d8912d37830edb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3af0d891fdd99bcc8d8912d37830edb6">&#9670;&nbsp;</a></span>SysTick_CALIB_NOREF_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CALIB_NOREF_Msk&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#a534dbe414e7a46a6ce4c1eca1fbff409">SysTick_CALIB_NOREF_Pos</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CALIB: NOREF Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00094">94</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a534dbe414e7a46a6ce4c1eca1fbff409" name="a534dbe414e7a46a6ce4c1eca1fbff409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a534dbe414e7a46a6ce4c1eca1fbff409">&#9670;&nbsp;</a></span>SysTick_CALIB_NOREF_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CALIB_NOREF_Pos&#160;&#160;&#160;31U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CALIB: NOREF Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00093">93</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a8a6a85a87334776f33d77fd147587431" name="a8a6a85a87334776f33d77fd147587431"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a6a85a87334776f33d77fd147587431">&#9670;&nbsp;</a></span>SysTick_CALIB_SKEW_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CALIB_SKEW_Msk&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#add0c9cd6641b9f6a0c618e7982954860">SysTick_CALIB_SKEW_Pos</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CALIB: SKEW Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00097">97</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="add0c9cd6641b9f6a0c618e7982954860" name="add0c9cd6641b9f6a0c618e7982954860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add0c9cd6641b9f6a0c618e7982954860">&#9670;&nbsp;</a></span>SysTick_CALIB_SKEW_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CALIB_SKEW_Pos&#160;&#160;&#160;30U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CALIB: SKEW Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00096">96</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="af1e68865c5aece2ad58971225bd3e95e" name="af1e68865c5aece2ad58971225bd3e95e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1e68865c5aece2ad58971225bd3e95e">&#9670;&nbsp;</a></span>SysTick_CALIB_TENMS_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CALIB_TENMS_Msk&#160;&#160;&#160;(0xFFFFFFUL /*&lt;&lt; <a class="el" href="perf__counter_8c.html#acae558f6e75a0bed5d826f606d8e695e">SysTick_CALIB_TENMS_Pos</a>*/)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CALIB: TENMS Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00100">100</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="acae558f6e75a0bed5d826f606d8e695e" name="acae558f6e75a0bed5d826f606d8e695e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acae558f6e75a0bed5d826f606d8e695e">&#9670;&nbsp;</a></span>SysTick_CALIB_TENMS_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CALIB_TENMS_Pos&#160;&#160;&#160;0U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CALIB: TENMS Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00099">99</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="aa41d06039797423a46596bd313d57373" name="aa41d06039797423a46596bd313d57373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa41d06039797423a46596bd313d57373">&#9670;&nbsp;</a></span>SysTick_CTRL_CLKSOURCE_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CTRL_CLKSOURCE_Msk&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#a24fbc69a5f0b78d67fda2300257baff1">SysTick_CTRL_CLKSOURCE_Pos</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CTRL: CLKSOURCE Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00076">76</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a24fbc69a5f0b78d67fda2300257baff1" name="a24fbc69a5f0b78d67fda2300257baff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24fbc69a5f0b78d67fda2300257baff1">&#9670;&nbsp;</a></span>SysTick_CTRL_CLKSOURCE_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CTRL_CLKSOURCE_Pos&#160;&#160;&#160;2U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CTRL: CLKSOURCE Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00075">75</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a1bf3033ecccf200f59baefe15dbb367c" name="a1bf3033ecccf200f59baefe15dbb367c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bf3033ecccf200f59baefe15dbb367c">&#9670;&nbsp;</a></span>SysTick_CTRL_COUNTFLAG_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CTRL_COUNTFLAG_Msk&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#adbb65d4a815759649db41df216ed4d60">SysTick_CTRL_COUNTFLAG_Pos</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CTRL: COUNTFLAG Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00073">73</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="adbb65d4a815759649db41df216ed4d60" name="adbb65d4a815759649db41df216ed4d60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb65d4a815759649db41df216ed4d60">&#9670;&nbsp;</a></span>SysTick_CTRL_COUNTFLAG_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CTRL_COUNTFLAG_Pos&#160;&#160;&#160;16U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CTRL: COUNTFLAG Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00072">72</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a16c9fee0ed0235524bdeb38af328fd1f" name="a16c9fee0ed0235524bdeb38af328fd1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c9fee0ed0235524bdeb38af328fd1f">&#9670;&nbsp;</a></span>SysTick_CTRL_ENABLE_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CTRL_ENABLE_Msk&#160;&#160;&#160;(1UL /*&lt;&lt; <a class="el" href="perf__counter_8c.html#a0b48cc1e36d92a92e4bf632890314810">SysTick_CTRL_ENABLE_Pos</a>*/)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CTRL: ENABLE Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00082">82</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a0b48cc1e36d92a92e4bf632890314810" name="a0b48cc1e36d92a92e4bf632890314810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b48cc1e36d92a92e4bf632890314810">&#9670;&nbsp;</a></span>SysTick_CTRL_ENABLE_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CTRL_ENABLE_Pos&#160;&#160;&#160;0U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CTRL: ENABLE Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00081">81</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a95bb984266ca764024836a870238a027" name="a95bb984266ca764024836a870238a027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95bb984266ca764024836a870238a027">&#9670;&nbsp;</a></span>SysTick_CTRL_TICKINT_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CTRL_TICKINT_Msk&#160;&#160;&#160;(1UL &lt;&lt; <a class="el" href="perf__counter_8c.html#a88f45bbb89ce8df3cd2b2613c7b48214">SysTick_CTRL_TICKINT_Pos</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CTRL: TICKINT Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00079">79</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a88f45bbb89ce8df3cd2b2613c7b48214" name="a88f45bbb89ce8df3cd2b2613c7b48214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88f45bbb89ce8df3cd2b2613c7b48214">&#9670;&nbsp;</a></span>SysTick_CTRL_TICKINT_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_CTRL_TICKINT_Pos&#160;&#160;&#160;1U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick CTRL: TICKINT Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00078">78</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a265912a7962f0e1abd170336e579b1b1" name="a265912a7962f0e1abd170336e579b1b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a265912a7962f0e1abd170336e579b1b1">&#9670;&nbsp;</a></span>SysTick_LOAD_RELOAD_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_LOAD_RELOAD_Msk&#160;&#160;&#160;(0xFFFFFFUL /*&lt;&lt; <a class="el" href="perf__counter_8c.html#af44d10df359dc5bf5752b0894ae3bad2">SysTick_LOAD_RELOAD_Pos</a>*/)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick LOAD: RELOAD Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00086">86</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="af44d10df359dc5bf5752b0894ae3bad2" name="af44d10df359dc5bf5752b0894ae3bad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af44d10df359dc5bf5752b0894ae3bad2">&#9670;&nbsp;</a></span>SysTick_LOAD_RELOAD_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_LOAD_RELOAD_Pos&#160;&#160;&#160;0U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick LOAD: RELOAD Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00085">85</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="afc77b56d568930b49a2474debc75ab45" name="afc77b56d568930b49a2474debc75ab45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc77b56d568930b49a2474debc75ab45">&#9670;&nbsp;</a></span>SysTick_VAL_CURRENT_Msk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_VAL_CURRENT_Msk&#160;&#160;&#160;(0xFFFFFFUL /*&lt;&lt; <a class="el" href="perf__counter_8c.html#a3208104c3b019b5de35ae8c21d5c34dd">SysTick_VAL_CURRENT_Pos</a>*/)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick VAL: CURRENT Mask </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00090">90</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<a id="a3208104c3b019b5de35ae8c21d5c34dd" name="a3208104c3b019b5de35ae8c21d5c34dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3208104c3b019b5de35ae8c21d5c34dd">&#9670;&nbsp;</a></span>SysTick_VAL_CURRENT_Pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SysTick_VAL_CURRENT_Pos&#160;&#160;&#160;0U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >SysTick VAL: CURRENT Position </p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00089">89</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aded00de9fbde9be7f8872f85685b36a4" name="aded00de9fbde9be7f8872f85685b36a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded00de9fbde9be7f8872f85685b36a4">&#9670;&nbsp;</a></span>__on_context_switch_in()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __on_context_switch_in </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pwStack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>if you aren't using perf_counter inside KEIL with RTE, please create ! a header file called "Pre_Include_Global.h", copy the following ! content into the header file and and put following option ! to your command line (supposing you are using arm compiler 6): ! -include "Pre_Include_Global.h" </dd></dl>
<p >update all agents</p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00646">646</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  647</span>{</div>
<div class="line"><span class="lineno">  648</span>    <span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> *ptRootAgent = (<span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> *)pwStack;</div>
<div class="line"><span class="lineno">  649</span>    uint64_t dwTimeStamp = <a class="code hl_function" href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a>();</div>
<div class="line"><span class="lineno">  650</span>    </div>
<div class="line"><span class="lineno">  651</span>    ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#ae2aae11f91e3eea654ceeac9b81706cb">lLastTimeStamp</a> = dwTimeStamp;</div>
<div class="line"><span class="lineno">  652</span>    ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a8af024785267321e4ef544e7f25d80dc">tInfo</a>.<a class="code hl_variable" href="structtask__cycle__info__t.html#a84d3729a2d49dd2e43ef8727fcd6f9b0">hwActiveCount</a>++;</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="perf__counter_8c.html#a5ed2b69d382ff960de71b5aa2e0b0deb">MAGIC_WORD_AGENT_LIST_VALID</a> == ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a88c8aad5ae23ae04fa44b2892081561b">wMagicWord</a>) {</div>
<div class="line"><span class="lineno">  656</span>        <a class="code hl_struct" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> *ptAgent = ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a7d50a2272c4a1b65f927e8c6d1242b33">tList</a>.<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a>;</div>
<div class="line"><span class="lineno">  657</span>        <span class="keywordflow">while</span>(NULL != ptAgent) {</div>
<div class="line"><span class="lineno">  658</span>            <span class="keywordflow">if</span> (NULL != ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a26adda6b75d3722f450eb169546bd7e7">ptInfo</a>) {</div>
<div class="line"><span class="lineno">  659</span>                <span class="keywordflow">if</span> (ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a26adda6b75d3722f450eb169546bd7e7">ptInfo</a>-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a>) {</div>
<div class="line"><span class="lineno">  660</span>                    ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a26adda6b75d3722f450eb169546bd7e7">ptInfo</a>-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a84d3729a2d49dd2e43ef8727fcd6f9b0">hwActiveCount</a>++;</div>
<div class="line"><span class="lineno">  661</span>                }</div>
<div class="line"><span class="lineno">  662</span>            }</div>
<div class="line"><span class="lineno">  663</span>            ptAgent = ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a>;</div>
<div class="line"><span class="lineno">  664</span>        }</div>
<div class="line"><span class="lineno">  665</span>    }</div>
<div class="line"><span class="lineno">  666</span>}</div>
<div class="ttc" id="aperf__counter_8c_html_a32dabfe5b863f89f71735b20a0caf1ea"><div class="ttname"><a href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a></div><div class="ttdeci">int64_t get_system_ticks(void)</div><div class="ttdoc">get the elapsed cycles since perf_counter is initialised</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00472">perf_counter.c:472</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_a5ed2b69d382ff960de71b5aa2e0b0deb"><div class="ttname"><a href="perf__counter_8c.html#a5ed2b69d382ff960de71b5aa2e0b0deb">MAGIC_WORD_AGENT_LIST_VALID</a></div><div class="ttdeci">#define MAGIC_WORD_AGENT_LIST_VALID</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00111">perf_counter.c:111</a></div></div>
<div class="ttc" id="astruct____task__cycle__info__t_html"><div class="ttname"><a href="struct____task__cycle__info__t.html">__task_cycle_info_t</a></div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00161">perf_counter.c:161</a></div></div>
<div class="ttc" id="astruct____task__cycle__info__t_html_a7d50a2272c4a1b65f927e8c6d1242b33"><div class="ttname"><a href="struct____task__cycle__info__t.html#a7d50a2272c4a1b65f927e8c6d1242b33">__task_cycle_info_t::tList</a></div><div class="ttdeci">task_cycle_info_agent_t tList</div><div class="ttdoc">the root of the agent list</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00164">perf_counter.c:164</a></div></div>
<div class="ttc" id="astruct____task__cycle__info__t_html_a88c8aad5ae23ae04fa44b2892081561b"><div class="ttname"><a href="struct____task__cycle__info__t.html#a88c8aad5ae23ae04fa44b2892081561b">__task_cycle_info_t::wMagicWord</a></div><div class="ttdeci">uint32_t wMagicWord</div><div class="ttdoc">an magic word for validation</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00165">perf_counter.c:165</a></div></div>
<div class="ttc" id="astruct____task__cycle__info__t_html_a8af024785267321e4ef544e7f25d80dc"><div class="ttname"><a href="struct____task__cycle__info__t.html#a8af024785267321e4ef544e7f25d80dc">__task_cycle_info_t::tInfo</a></div><div class="ttdeci">task_cycle_info_t tInfo</div><div class="ttdoc">cycle information</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00162">perf_counter.c:162</a></div></div>
<div class="ttc" id="astruct____task__cycle__info__t_html_ae2aae11f91e3eea654ceeac9b81706cb"><div class="ttname"><a href="struct____task__cycle__info__t.html#ae2aae11f91e3eea654ceeac9b81706cb">__task_cycle_info_t::lLastTimeStamp</a></div><div class="ttdeci">int64_t lLastTimeStamp</div><div class="ttdoc">previous timestamp</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00163">perf_counter.c:163</a></div></div>
<div class="ttc" id="astructtask__cycle__info__agent__t_html"><div class="ttname"><a href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a></div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00337">perf_counter.h:337</a></div></div>
<div class="ttc" id="astructtask__cycle__info__agent__t_html_a26adda6b75d3722f450eb169546bd7e7"><div class="ttname"><a href="structtask__cycle__info__agent__t.html#a26adda6b75d3722f450eb169546bd7e7">task_cycle_info_agent_t::ptInfo</a></div><div class="ttdeci">task_cycle_info_t * ptInfo</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00338">perf_counter.h:338</a></div></div>
<div class="ttc" id="astructtask__cycle__info__agent__t_html_a3f049d289ce99f316894417016d60ca6"><div class="ttname"><a href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">task_cycle_info_agent_t::ptNext</a></div><div class="ttdeci">task_cycle_info_agent_t * ptNext</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00339">perf_counter.h:339</a></div></div>
<div class="ttc" id="astructtask__cycle__info__t_html_a84d3729a2d49dd2e43ef8727fcd6f9b0"><div class="ttname"><a href="structtask__cycle__info__t.html#a84d3729a2d49dd2e43ef8727fcd6f9b0">task_cycle_info_t::hwActiveCount</a></div><div class="ttdeci">uint16_t hwActiveCount</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00330">perf_counter.h:330</a></div></div>
<div class="ttc" id="astructtask__cycle__info__t_html_a8a4c67264f8440bb83dec68c4312ff09"><div class="ttname"><a href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">task_cycle_info_t::bEnabled</a></div><div class="ttdeci">uint16_t bEnabled</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00332">perf_counter.h:332</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00332">task_cycle_info_t::bEnabled</a>, <a class="el" href="perf__counter_8c_source.html#l00472">get_system_ticks()</a>, <a class="el" href="perf__counter_8h_source.html#l00330">task_cycle_info_t::hwActiveCount</a>, <a class="el" href="perf__counter_8c_source.html#l00163">__task_cycle_info_t::lLastTimeStamp</a>, <a class="el" href="perf__counter_8c_source.html#l00111">MAGIC_WORD_AGENT_LIST_VALID</a>, <a class="el" href="perf__counter_8h_source.html#l00338">task_cycle_info_agent_t::ptInfo</a>, <a class="el" href="perf__counter_8h_source.html#l00339">task_cycle_info_agent_t::ptNext</a>, <a class="el" href="perf__counter_8c_source.html#l00162">__task_cycle_info_t::tInfo</a>, <a class="el" href="perf__counter_8c_source.html#l00164">__task_cycle_info_t::tList</a>, and <a class="el" href="perf__counter_8c_source.html#l00165">__task_cycle_info_t::wMagicWord</a>.</p>

<p class="reference">Referenced by <a class="el" href="perf__os__patch__freertos_8c_source.html#l00225">__freertos_evr_on_task_switched_in()</a>, <a class="el" href="perf__os__patch__rtx5_8c_source.html#l00065">__on_context_switch()</a>, <a class="el" href="perf__os__patch__rt__thread_8c_source.html#l00069">__rt_thread_scheduler_hook()</a>, and <a class="el" href="perf__os__patch__threadx_8c_source.html#l00075">_tx_execution_thread_enter()</a>.</p>

</div>
</div>
<a id="aee2926404ade74811fa658786035f745" name="aee2926404ade74811fa658786035f745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2926404ade74811fa658786035f745">&#9670;&nbsp;</a></span>__on_context_switch_out()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __on_context_switch_out </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pwStack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >update all agents</p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00668">668</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  669</span>{</div>
<div class="line"><span class="lineno">  670</span>    <span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> *ptRootAgent = (<span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> *)pwStack;</div>
<div class="line"><span class="lineno">  671</span>    int64_t lCycleUsed = <a class="code hl_function" href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a>() - ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#ae2aae11f91e3eea654ceeac9b81706cb">lLastTimeStamp</a>;</div>
<div class="line"><span class="lineno">  672</span>    </div>
<div class="line"><span class="lineno">  673</span>    ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a8af024785267321e4ef544e7f25d80dc">tInfo</a>.<a class="code hl_variable" href="structtask__cycle__info__t.html#a0250b43cfb57ddf17f7f40c4cc587249">nUsedRecent</a> = lCycleUsed;</div>
<div class="line"><span class="lineno">  674</span>    ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a8af024785267321e4ef544e7f25d80dc">tInfo</a>.<a class="code hl_variable" href="structtask__cycle__info__t.html#a19a46cbd05039f568b01e326d65d6b80">lUsedTotal</a> += lCycleUsed;</div>
<div class="line"><span class="lineno">  675</span>    </div>
<div class="line"><span class="lineno">  676</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="perf__counter_8c.html#a5ed2b69d382ff960de71b5aa2e0b0deb">MAGIC_WORD_AGENT_LIST_VALID</a> == ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a88c8aad5ae23ae04fa44b2892081561b">wMagicWord</a>) {</div>
<div class="line"><span class="lineno">  678</span>        <a class="code hl_struct" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> *ptAgent = ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a7d50a2272c4a1b65f927e8c6d1242b33">tList</a>.<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a>;</div>
<div class="line"><span class="lineno">  679</span>        <span class="keywordflow">while</span>(NULL != ptAgent) {</div>
<div class="line"><span class="lineno">  680</span>            <span class="keywordflow">if</span> (NULL != ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a26adda6b75d3722f450eb169546bd7e7">ptInfo</a>) {</div>
<div class="line"><span class="lineno">  681</span>                <span class="keywordflow">if</span> (ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a26adda6b75d3722f450eb169546bd7e7">ptInfo</a>-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a>) {</div>
<div class="line"><span class="lineno">  682</span>                    ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a26adda6b75d3722f450eb169546bd7e7">ptInfo</a>-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a0250b43cfb57ddf17f7f40c4cc587249">nUsedRecent</a> = lCycleUsed;</div>
<div class="line"><span class="lineno">  683</span>                    ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a26adda6b75d3722f450eb169546bd7e7">ptInfo</a>-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a19a46cbd05039f568b01e326d65d6b80">lUsedTotal</a> += lCycleUsed;</div>
<div class="line"><span class="lineno">  684</span>                }</div>
<div class="line"><span class="lineno">  685</span>            }</div>
<div class="line"><span class="lineno">  686</span>            ptAgent = ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a>;</div>
<div class="line"><span class="lineno">  687</span>        }</div>
<div class="line"><span class="lineno">  688</span>    }</div>
<div class="line"><span class="lineno">  689</span>}</div>
<div class="ttc" id="astructtask__cycle__info__t_html_a0250b43cfb57ddf17f7f40c4cc587249"><div class="ttname"><a href="structtask__cycle__info__t.html#a0250b43cfb57ddf17f7f40c4cc587249">task_cycle_info_t::nUsedRecent</a></div><div class="ttdeci">int32_t nUsedRecent</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00329">perf_counter.h:329</a></div></div>
<div class="ttc" id="astructtask__cycle__info__t_html_a19a46cbd05039f568b01e326d65d6b80"><div class="ttname"><a href="structtask__cycle__info__t.html#a19a46cbd05039f568b01e326d65d6b80">task_cycle_info_t::lUsedTotal</a></div><div class="ttdeci">int64_t lUsedTotal</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00328">perf_counter.h:328</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00332">task_cycle_info_t::bEnabled</a>, <a class="el" href="perf__counter_8c_source.html#l00472">get_system_ticks()</a>, <a class="el" href="perf__counter_8c_source.html#l00163">__task_cycle_info_t::lLastTimeStamp</a>, <a class="el" href="perf__counter_8h_source.html#l00328">task_cycle_info_t::lUsedTotal</a>, <a class="el" href="perf__counter_8c_source.html#l00111">MAGIC_WORD_AGENT_LIST_VALID</a>, <a class="el" href="perf__counter_8h_source.html#l00329">task_cycle_info_t::nUsedRecent</a>, <a class="el" href="perf__counter_8h_source.html#l00338">task_cycle_info_agent_t::ptInfo</a>, <a class="el" href="perf__counter_8h_source.html#l00339">task_cycle_info_agent_t::ptNext</a>, <a class="el" href="perf__counter_8c_source.html#l00162">__task_cycle_info_t::tInfo</a>, <a class="el" href="perf__counter_8c_source.html#l00164">__task_cycle_info_t::tList</a>, and <a class="el" href="perf__counter_8c_source.html#l00165">__task_cycle_info_t::wMagicWord</a>.</p>

<p class="reference">Referenced by <a class="el" href="perf__os__patch__freertos_8c_source.html#l00213">__freertos_evr_on_task_switched_out()</a>, <a class="el" href="perf__os__patch__rtx5_8c_source.html#l00065">__on_context_switch()</a>, <a class="el" href="perf__os__patch__rt__thread_8c_source.html#l00069">__rt_thread_scheduler_hook()</a>, and <a class="el" href="perf__os__patch__threadx_8c_source.html#l00093">_tx_execution_thread_exit()</a>.</p>

</div>
</div>
<a id="a4781d1de67a0b4fd21656377d0a2a0bc" name="a4781d1de67a0b4fd21656377d0a2a0bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4781d1de67a0b4fd21656377d0a2a0bc">&#9670;&nbsp;</a></span>__perf_os_patch_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__WEAK void __perf_os_patch_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00248">248</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  249</span>{</div>
<div class="line"><span class="lineno">  250</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad17c3ab8fb4c68ebc676562ab00770a1" name="ad17c3ab8fb4c68ebc676562ab00770a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad17c3ab8fb4c68ebc676562ab00770a1">&#9670;&nbsp;</a></span>__start_task_cycle_counter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __start_task_cycle_counter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *&#160;</td>
          <td class="paramname"><em>ptInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00691">691</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  692</span>{</div>
<div class="line"><span class="lineno">  693</span>    <span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> * ptRootAgent = </div>
<div class="line"><span class="lineno">  694</span>        (<span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> *)<a class="code hl_function" href="perf__counter_8c.html#a87abe08a2093c8c69e5f813f565a1d31">get_rtos_task_cycle_info</a>();</div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordflow">if</span> (NULL == ptRootAgent) {</div>
<div class="line"><span class="lineno">  696</span>        return ;</div>
<div class="line"><span class="lineno">  697</span>    }</div>
<div class="line"><span class="lineno">  698</span>    </div>
<div class="line"><span class="lineno">  699</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  700</span>        ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#ae2aae11f91e3eea654ceeac9b81706cb">lLastTimeStamp</a> = <a class="code hl_function" href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a>();</div>
<div class="line"><span class="lineno">  701</span>        ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a8af024785267321e4ef544e7f25d80dc">tInfo</a>.<a class="code hl_variable" href="structtask__cycle__info__t.html#a19a46cbd05039f568b01e326d65d6b80">lUsedTotal</a> = 0;</div>
<div class="line"><span class="lineno">  702</span>        </div>
<div class="line"><span class="lineno">  703</span>        <span class="keywordflow">if</span> (NULL != ptInfo) {</div>
<div class="line"><span class="lineno">  704</span>            ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a19a46cbd05039f568b01e326d65d6b80">lUsedTotal</a> = 0;</div>
<div class="line"><span class="lineno">  705</span>            ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  706</span>        }</div>
<div class="line"><span class="lineno">  707</span>    }</div>
<div class="line"><span class="lineno">  708</span>}</div>
<div class="ttc" id="aperf__counter_8c_html_a87abe08a2093c8c69e5f813f565a1d31"><div class="ttname"><a href="perf__counter_8c.html#a87abe08a2093c8c69e5f813f565a1d31">get_rtos_task_cycle_info</a></div><div class="ttdeci">__WEAK task_cycle_info_t * get_rtos_task_cycle_info(void)</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00501">perf_counter.c:501</a></div></div>
<div class="ttc" id="aperf__counter_8h_html_a966a3eb20671a2a8c44d63d459f5472e"><div class="ttname"><a href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a></div><div class="ttdeci">#define __IRQ_SAFE</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00264">perf_counter.h:264</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>, <a class="el" href="perf__counter_8h_source.html#l00332">task_cycle_info_t::bEnabled</a>, <a class="el" href="perf__counter_8c_source.html#l00501">get_rtos_task_cycle_info()</a>, <a class="el" href="perf__counter_8c_source.html#l00472">get_system_ticks()</a>, <a class="el" href="perf__counter_8c_source.html#l00163">__task_cycle_info_t::lLastTimeStamp</a>, <a class="el" href="perf__counter_8h_source.html#l00328">task_cycle_info_t::lUsedTotal</a>, and <a class="el" href="perf__counter_8c_source.html#l00162">__task_cycle_info_t::tInfo</a>.</p>

</div>
</div>
<a id="a81a5dabf3ca19922587390de6c9f0ff5" name="a81a5dabf3ca19922587390de6c9f0ff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81a5dabf3ca19922587390de6c9f0ff5">&#9670;&nbsp;</a></span>__stop_task_cycle_counter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t __stop_task_cycle_counter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *&#160;</td>
          <td class="paramname"><em>ptInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00711">711</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  712</span>{</div>
<div class="line"><span class="lineno">  713</span>    <span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> * ptRootAgent = </div>
<div class="line"><span class="lineno">  714</span>        (<span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> *)<a class="code hl_function" href="perf__counter_8c.html#a87abe08a2093c8c69e5f813f565a1d31">get_rtos_task_cycle_info</a>();</div>
<div class="line"><span class="lineno">  715</span>    <span class="keywordflow">if</span> (NULL == ptRootAgent) {</div>
<div class="line"><span class="lineno">  716</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  717</span>    }</div>
<div class="line"><span class="lineno">  718</span>    </div>
<div class="line"><span class="lineno">  719</span>    int64_t lCycles = 0;</div>
<div class="line"><span class="lineno">  720</span>    </div>
<div class="line"><span class="lineno">  721</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  722</span>        int64_t lCycleUsed = <a class="code hl_function" href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a>() - ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#ae2aae11f91e3eea654ceeac9b81706cb">lLastTimeStamp</a>;</div>
<div class="line"><span class="lineno">  723</span>        ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a8af024785267321e4ef544e7f25d80dc">tInfo</a>.<a class="code hl_variable" href="structtask__cycle__info__t.html#a19a46cbd05039f568b01e326d65d6b80">lUsedTotal</a> += lCycleUsed;</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>        <span class="keywordflow">if</span> (NULL != ptInfo) {</div>
<div class="line"><span class="lineno">  726</span>            <span class="keywordflow">if</span> (ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a>) {</div>
<div class="line"><span class="lineno">  727</span>                ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a0250b43cfb57ddf17f7f40c4cc587249">nUsedRecent</a> = lCycleUsed;</div>
<div class="line"><span class="lineno">  728</span>                ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a19a46cbd05039f568b01e326d65d6b80">lUsedTotal</a> += lCycleUsed;</div>
<div class="line"><span class="lineno">  729</span>                ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  730</span>            }</div>
<div class="line"><span class="lineno">  731</span>            </div>
<div class="line"><span class="lineno">  732</span>            lCycles = ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a19a46cbd05039f568b01e326d65d6b80">lUsedTotal</a>;</div>
<div class="line"><span class="lineno">  733</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  734</span>            lCycles = ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a8af024785267321e4ef544e7f25d80dc">tInfo</a>.<a class="code hl_variable" href="structtask__cycle__info__t.html#a19a46cbd05039f568b01e326d65d6b80">lUsedTotal</a>;</div>
<div class="line"><span class="lineno">  735</span>        }</div>
<div class="line"><span class="lineno">  736</span>    }</div>
<div class="line"><span class="lineno">  737</span>    </div>
<div class="line"><span class="lineno">  738</span>    <span class="keywordflow">return</span> lCycles;</div>
<div class="line"><span class="lineno">  739</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>, <a class="el" href="perf__counter_8h_source.html#l00332">task_cycle_info_t::bEnabled</a>, <a class="el" href="perf__counter_8c_source.html#l00501">get_rtos_task_cycle_info()</a>, <a class="el" href="perf__counter_8c_source.html#l00472">get_system_ticks()</a>, <a class="el" href="perf__counter_8c_source.html#l00163">__task_cycle_info_t::lLastTimeStamp</a>, <a class="el" href="perf__counter_8h_source.html#l00328">task_cycle_info_t::lUsedTotal</a>, <a class="el" href="perf__counter_8h_source.html#l00329">task_cycle_info_t::nUsedRecent</a>, and <a class="el" href="perf__counter_8c_source.html#l00162">__task_cycle_info_t::tInfo</a>.</p>

</div>
</div>
<a id="a21ccde78f8ad778f05be60855c5a8283" name="a21ccde78f8ad778f05be60855c5a8283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21ccde78f8ad778f05be60855c5a8283">&#9670;&nbsp;</a></span>check_systick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__STATIC_INLINE int32_t check_systick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>this function should only be called when irq is disabled hence SysTick-LOAD and (SCB-&gt;ICSR &amp; SCB_ICSR_PENDSTSET_Msk) won't change. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Since we cannot stop counting temporarily, there are several conditions which we should take into consideration:<ul>
<li>Condition 1: when assigning nTemp with the register value (LOAD-VAL), the underflow didn't happen but when we check the PENDSTSET bit, the underflow happens, for this condition, we should not do any compensation. When this happens, the (LOAD-nTemp) is <br  />
 smaller than PERF_CNT_COMPENSATION_THRESHOLD (a small value) as long as LOAD is bigger than (or equals to) the PERF_CNT_COMPENSATION_THRESHOLD;</li>
<li>Condition 2: when assigning nTemp with the register value (LOAD-VAL), the VAL is zero and underflow happened and the PENDSTSET bit is set, for this condition, we should not do any compensation. When this happens, the (LOAD-nTemp) is equals to zero.</li>
<li>Condition 3: when assigning nTemp with the register value (LOAD-VAL), the underflow has already happened, hence the PENDSTSET is set, for this condition, we should compensate the return value. When this happens, the (LOAD-nTemp) is bigger than (or equals to) PERF_CNT_COMPENSATION_THRESHOLD. The following code implements an equivalent logic.</li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00332">332</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  333</span>{</div>
<div class="line"><span class="lineno">  334</span>    int32_t nTemp = (int32_t)<a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;LOAD - (int32_t)<a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;VAL;</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="perf__counter_8c.html#aaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a>-&gt;ICSR &amp; <a class="code hl_define" href="perf__counter_8c.html#a7325b61ea0ec323ef2d5c893b112e546">SCB_ICSR_PENDSTSET_Msk</a>){</div>
<div class="line"><span class="lineno">  357</span>        <span class="keywordflow">if</span> (((int32_t)<a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;LOAD - nTemp) &gt;= <a class="code hl_define" href="perf__counter_8c.html#a0f17a2b1bde9a2632daa7ad0b96df9e5">PERF_CNT_COMPENSATION_THRESHOLD</a>) {</div>
<div class="line"><span class="lineno">  358</span>            nTemp += <a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;LOAD + 1;</div>
<div class="line"><span class="lineno">  359</span>        } </div>
<div class="line"><span class="lineno">  360</span>    }</div>
<div class="line"><span class="lineno">  361</span>    </div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">return</span> nTemp;</div>
<div class="line"><span class="lineno">  363</span>}</div>
<div class="ttc" id="aperf__counter_8c_html_a0f17a2b1bde9a2632daa7ad0b96df9e5"><div class="ttname"><a href="perf__counter_8c.html#a0f17a2b1bde9a2632daa7ad0b96df9e5">PERF_CNT_COMPENSATION_THRESHOLD</a></div><div class="ttdeci">#define PERF_CNT_COMPENSATION_THRESHOLD</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00034">perf_counter.c:34</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_a7325b61ea0ec323ef2d5c893b112e546"><div class="ttname"><a href="perf__counter_8c.html#a7325b61ea0ec323ef2d5c893b112e546">SCB_ICSR_PENDSTSET_Msk</a></div><div class="ttdeci">#define SCB_ICSR_PENDSTSET_Msk</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00108">perf_counter.c:108</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_aaaf6477c2bde2f00f99e3c2fd1060b01"><div class="ttname"><a href="perf__counter_8c.html#aaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a></div><div class="ttdeci">#define SCB</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00069">perf_counter.c:69</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_acd96c53beeaff8f603fcda425eb295de"><div class="ttname"><a href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a></div><div class="ttdeci">#define SysTick</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00068">perf_counter.c:68</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8c_source.html#l00034">PERF_CNT_COMPENSATION_THRESHOLD</a>, <a class="el" href="perf__counter_8c_source.html#l00069">SCB</a>, <a class="el" href="perf__counter_8c_source.html#l00108">SCB_ICSR_PENDSTSET_Msk</a>, and <a class="el" href="perf__counter_8c_source.html#l00068">SysTick</a>.</p>

<p class="reference">Referenced by <a class="el" href="perf__counter_8c_source.html#l00472">get_system_ticks()</a>, and <a class="el" href="perf__counter_8c_source.html#l00372">stop_cycle_counter()</a>.</p>

</div>
</div>
<a id="a2add8ab5b23b568bba6d46f9c977dbce" name="a2add8ab5b23b568bba6d46f9c977dbce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2add8ab5b23b568bba6d46f9c977dbce">&#9670;&nbsp;</a></span>delay_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay_ms </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>nMs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>delay specified time in millisecond </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nUs</td><td>time in millisecond </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00417">417</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  418</span>{</div>
<div class="line"><span class="lineno">  419</span>    int64_t lUs = nMs * s_nMSUnit;</div>
<div class="line"><span class="lineno">  420</span>    </div>
<div class="line"><span class="lineno">  421</span>    <span class="keywordflow">if</span> (lUs &lt;= <a class="code hl_define" href="perf__counter_8c.html#ad7332da0831148c773a7c5211d5bfa1e">PERF_CNT_DELAY_US_COMPENSATION</a>) {</div>
<div class="line"><span class="lineno">  422</span>        return ;</div>
<div class="line"><span class="lineno">  423</span>    } </div>
<div class="line"><span class="lineno">  424</span>    </div>
<div class="line"><span class="lineno">  425</span>    lUs -= <a class="code hl_define" href="perf__counter_8c.html#ad7332da0831148c773a7c5211d5bfa1e">PERF_CNT_DELAY_US_COMPENSATION</a>;</div>
<div class="line"><span class="lineno">  426</span>    </div>
<div class="line"><span class="lineno">  427</span>    lUs += <a class="code hl_function" href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a>();</div>
<div class="line"><span class="lineno">  428</span>    <span class="keywordflow">while</span>(<a class="code hl_function" href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a>() &lt; lUs);</div>
<div class="line"><span class="lineno">  429</span>}</div>
<div class="ttc" id="aperf__counter_8c_html_ad7332da0831148c773a7c5211d5bfa1e"><div class="ttname"><a href="perf__counter_8c.html#ad7332da0831148c773a7c5211d5bfa1e">PERF_CNT_DELAY_US_COMPENSATION</a></div><div class="ttdeci">#define PERF_CNT_DELAY_US_COMPENSATION</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00038">perf_counter.c:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9776dfed871d0e0775c876f16e7618f7" name="a9776dfed871d0e0775c876f16e7618f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9776dfed871d0e0775c876f16e7618f7">&#9670;&nbsp;</a></span>delay_us()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay_us </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>nUs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>delay specified time in microsecond </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nUs</td><td>time in microsecond </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00398">398</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  399</span>{</div>
<div class="line"><span class="lineno">  400</span>    int64_t lUs = nUs * s_nUSUnit;</div>
<div class="line"><span class="lineno">  401</span>    </div>
<div class="line"><span class="lineno">  402</span>    <span class="keywordflow">if</span> (lUs &lt;= <a class="code hl_define" href="perf__counter_8c.html#ad7332da0831148c773a7c5211d5bfa1e">PERF_CNT_DELAY_US_COMPENSATION</a>) {</div>
<div class="line"><span class="lineno">  403</span>        return ;</div>
<div class="line"><span class="lineno">  404</span>    } </div>
<div class="line"><span class="lineno">  405</span>    </div>
<div class="line"><span class="lineno">  406</span>    lUs -= <a class="code hl_define" href="perf__counter_8c.html#ad7332da0831148c773a7c5211d5bfa1e">PERF_CNT_DELAY_US_COMPENSATION</a>;</div>
<div class="line"><span class="lineno">  407</span>    </div>
<div class="line"><span class="lineno">  408</span>    lUs += <a class="code hl_function" href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a>();</div>
<div class="line"><span class="lineno">  409</span>    <span class="keywordflow">while</span>(<a class="code hl_function" href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a>() &lt; lUs);</div>
<div class="line"><span class="lineno">  410</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a01d6cd52b6c48c1e0c8a68b48ad87b0c" name="a01d6cd52b6c48c1e0c8a68b48ad87b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d6cd52b6c48c1e0c8a68b48ad87b0c">&#9670;&nbsp;</a></span>disable_task_cycle_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool disable_task_cycle_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *&#160;</td>
          <td class="paramname"><em>ptInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00549">549</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  550</span>{</div>
<div class="line"><span class="lineno">  551</span>    <span class="keywordflow">if</span> (NULL == ptInfo) {</div>
<div class="line"><span class="lineno">  552</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  553</span>    }</div>
<div class="line"><span class="lineno">  554</span>    <span class="keywordtype">bool</span> bOrig;</div>
<div class="line"><span class="lineno">  555</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  556</span>        bOrig = ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a>;</div>
<div class="line"><span class="lineno">  557</span>        ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  558</span>    }</div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">return</span> bOrig;</div>
<div class="line"><span class="lineno">  560</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>, and <a class="el" href="perf__counter_8h_source.html#l00332">task_cycle_info_t::bEnabled</a>.</p>

</div>
</div>
<a id="ae2c015694f2e89240466e9b1d423c6ec" name="ae2c015694f2e89240466e9b1d423c6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2c015694f2e89240466e9b1d423c6ec">&#9670;&nbsp;</a></span>enable_task_cycle_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool enable_task_cycle_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *&#160;</td>
          <td class="paramname"><em>ptInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00536">536</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  537</span>{</div>
<div class="line"><span class="lineno">  538</span>    <span class="keywordflow">if</span> (NULL == ptInfo) {</div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  540</span>    }</div>
<div class="line"><span class="lineno">  541</span>    <span class="keywordtype">bool</span> bOrig;</div>
<div class="line"><span class="lineno">  542</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  543</span>        bOrig = ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a>;</div>
<div class="line"><span class="lineno">  544</span>        ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  545</span>    }</div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">return</span> bOrig;</div>
<div class="line"><span class="lineno">  547</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>, and <a class="el" href="perf__counter_8h_source.html#l00332">task_cycle_info_t::bEnabled</a>.</p>

</div>
</div>
<a id="a87abe08a2093c8c69e5f813f565a1d31" name="a87abe08a2093c8c69e5f813f565a1d31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87abe08a2093c8c69e5f813f565a1d31">&#9670;&nbsp;</a></span>get_rtos_task_cycle_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__WEAK <a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> * get_rtos_task_cycle_info </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00501">501</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  502</span>{</div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  504</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="perf__counter_8c_source.html#l00691">__start_task_cycle_counter()</a>, <a class="el" href="perf__counter_8c_source.html#l00711">__stop_task_cycle_counter()</a>, <a class="el" href="perf__counter_8c_source.html#l00506">init_task_cycle_counter()</a>, and <a class="el" href="perf__counter_8c_source.html#l00572">register_task_cycle_agent()</a>.</p>

</div>
</div>
<a id="a98c51d83fdb448a2733d0a309366149c" name="a98c51d83fdb448a2733d0a309366149c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98c51d83fdb448a2733d0a309366149c">&#9670;&nbsp;</a></span>get_system_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t get_system_ms </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the elapsed milliseconds since perf_counter is initialised </p>
<dl class="section return"><dt>Returns</dt><dd>int32_t the elapsed milliseconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00488">488</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  489</span>{</div>
<div class="line"><span class="lineno">  490</span>    int32_t nTemp = 0;</div>
<div class="line"><span class="lineno">  491</span>    </div>
<div class="line"><span class="lineno">  492</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  493</span>        nTemp = s_nSystemMS + (<a class="code hl_function" href="perf__counter_8c.html#a21ccde78f8ad778f05be60855c5a8283">check_systick</a>() + s_nMSResidule) / s_nMSUnit;</div>
<div class="line"><span class="lineno">  494</span>    }</div>
<div class="line"><span class="lineno">  495</span>    </div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">return</span> nTemp;</div>
<div class="line"><span class="lineno">  497</span>}</div>
<div class="ttc" id="aperf__counter_8c_html_a21ccde78f8ad778f05be60855c5a8283"><div class="ttname"><a href="perf__counter_8c.html#a21ccde78f8ad778f05be60855c5a8283">check_systick</a></div><div class="ttdeci">__STATIC_INLINE int32_t check_systick(void)</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00332">perf_counter.c:332</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>.</p>

</div>
</div>
<a id="a32dabfe5b863f89f71735b20a0caf1ea" name="a32dabfe5b863f89f71735b20a0caf1ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32dabfe5b863f89f71735b20a0caf1ea">&#9670;&nbsp;</a></span>get_system_ticks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t get_system_ticks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the elapsed cycles since perf_counter is initialised </p>
<dl class="section return"><dt>Returns</dt><dd>int64_t the elpased cycles </dd></dl>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00472">472</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  473</span>{</div>
<div class="line"><span class="lineno">  474</span>    int64_t lTemp = 0;</div>
<div class="line"><span class="lineno">  475</span>    </div>
<div class="line"><span class="lineno">  476</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  477</span>        lTemp = <a class="code hl_function" href="perf__counter_8c.html#a21ccde78f8ad778f05be60855c5a8283">check_systick</a>() + s_lSystemClockCounts;</div>
<div class="line"><span class="lineno">  478</span>    }</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordflow">return</span> lTemp;</div>
<div class="line"><span class="lineno">  481</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>, and <a class="el" href="perf__counter_8c_source.html#l00332">check_systick()</a>.</p>

<p class="reference">Referenced by <a class="el" href="perf__counter_8c_source.html#l00646">__on_context_switch_in()</a>, <a class="el" href="perf__counter_8c_source.html#l00668">__on_context_switch_out()</a>, <a class="el" href="perf__counter_8c_source.html#l00691">__start_task_cycle_counter()</a>, <a class="el" href="perf__counter_8c_source.html#l00711">__stop_task_cycle_counter()</a>, and <a class="el" href="perf__counter_8c_source.html#l00506">init_task_cycle_counter()</a>.</p>

</div>
</div>
<a id="a9097d62a30ad2b4f75462c78d7200fa8" name="a9097d62a30ad2b4f75462c78d7200fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9097d62a30ad2b4f75462c78d7200fa8">&#9670;&nbsp;</a></span>init_cycle_counter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_cycle_counter </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bIsSysTickOccupied</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initialise cycle counter service </p>
<dl class="section note"><dt>Note</dt><dd>- don't forget to tell the function whether the systick is already used by user applications. Don't worry, this cycle counter service won't affect your existing systick service.</dd>
<dd>
- Usually the perf_counter can initialise itself with the help of <b>attribute</b>((constructor(255))), this works fine in Arm Compiler 5 (armcc), Arm Compiler 6 (armclang), arm gcc and llvm. It doesn't work for IAR. So, when you are using IAR, please call this function manually to initialise the perf_counter service.</dd>
<dd>
- Perf_counter library assumes that:<ol type="1">
<li>Your project has already using SysTick</li>
<li>It assumes that you have already implemented the SysTick_Handler</li>
<li>It assumes that you have enabled the exception handling for SysTick. If these are not the case, please:<ol type="a">
<li>Add an empty SysTick_Handler to your project if you don't have one</li>
<li>Make sure you have the SysTick Exception handling enabled</li>
<li>And call function init_cycle_counter(false) if you doesn't use SysTick in your project at all.</li>
</ol>
</li>
</ol>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bIsSysTickOccupied</td><td>A boolean value which indicates whether SysTick is already used by user application. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00280">280</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  281</span>{</div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">if</span> (!bIsSysTickOccupied) {</div>
<div class="line"><span class="lineno">  284</span>            <a class="code hl_function" href="perf__counter_8c.html#ae4e8f0238527c69f522029b93c8e5b78">SysTick_Config</a>(0x01000000);             <span class="comment">// use the longest period</span></div>
<div class="line"><span class="lineno">  285</span>        }</div>
<div class="line"><span class="lineno">  286</span>        <a class="code hl_define" href="perf__counter_8c.html#aaaf6477c2bde2f00f99e3c2fd1060b01">SCB</a>-&gt;ICSR      = <a class="code hl_define" href="perf__counter_8c.html#ab241827d2a793269d8cd99b9b28c2157">SCB_ICSR_PENDSTCLR_Msk</a>;</div>
<div class="line"><span class="lineno">  287</span>    }</div>
<div class="line"><span class="lineno">  288</span>    </div>
<div class="line"><span class="lineno">  289</span>    <a class="code hl_function" href="perf__counter_8c.html#af33fd92801223d4befa49c610332ddd4">start_cycle_counter</a>();</div>
<div class="line"><span class="lineno">  290</span>    <span class="comment">//s_nSystemClockCounts = s_nCycleCounts;</span></div>
<div class="line"><span class="lineno">  291</span>    s_nOffset = <a class="code hl_function" href="perf__counter_8c.html#a014af75d3945894c4740773e8a28d723">stop_cycle_counter</a>();</div>
<div class="line"><span class="lineno">  292</span>    </div>
<div class="line"><span class="lineno">  293</span>    s_nUSUnit = <a class="code hl_variable" href="perf__counter_8c.html#aa3cd3e43291e81e795d642b79b6088e6">SystemCoreClock</a> / 1000000ul;</div>
<div class="line"><span class="lineno">  294</span>    s_nMSUnit = <a class="code hl_variable" href="perf__counter_8c.html#aa3cd3e43291e81e795d642b79b6088e6">SystemCoreClock</a> / 1000ul;</div>
<div class="line"><span class="lineno">  295</span>    s_lSystemClockCounts = 0;                       <span class="comment">// reset system cycle counter</span></div>
<div class="line"><span class="lineno">  296</span>    s_nSystemMS = 0;                                <span class="comment">// reset system millisecond counter</span></div>
<div class="line"><span class="lineno">  297</span>    </div>
<div class="line"><span class="lineno">  298</span><span class="preprocessor">#if     defined(__IS_COMPILER_ARM_COMPILER_5__)                                 \</span></div>
<div class="line"><span class="lineno">  299</span><span class="preprocessor">    ||  defined(__IS_COMPILER_ARM_COMPILER_6__)                                 \</span></div>
<div class="line"><span class="lineno">  300</span><span class="preprocessor">    ||  defined(__IS_COMPILER_GCC__)                                            \</span></div>
<div class="line"><span class="lineno">  301</span><span class="preprocessor">    ||  defined(__IS_COMPILER_LLVM__)</span></div>
<div class="line"><span class="lineno">  302</span>    <span class="keyword">extern</span> <span class="keywordtype">void</span> __ensure_systick_wrapper(<span class="keywordtype">void</span>);</div>
<div class="line"><span class="lineno">  303</span>    __ensure_systick_wrapper();</div>
<div class="line"><span class="lineno">  304</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_function" href="perf__counter_8c.html#a4781d1de67a0b4fd21656377d0a2a0bc">__perf_os_patch_init</a>();</div>
<div class="line"><span class="lineno">  307</span>}</div>
<div class="ttc" id="aperf__counter_8c_html_a014af75d3945894c4740773e8a28d723"><div class="ttname"><a href="perf__counter_8c.html#a014af75d3945894c4740773e8a28d723">stop_cycle_counter</a></div><div class="ttdeci">int32_t stop_cycle_counter(void)</div><div class="ttdoc">calculate the elapsed cycle count since the last start point</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00372">perf_counter.c:372</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_a4781d1de67a0b4fd21656377d0a2a0bc"><div class="ttname"><a href="perf__counter_8c.html#a4781d1de67a0b4fd21656377d0a2a0bc">__perf_os_patch_init</a></div><div class="ttdeci">__WEAK void __perf_os_patch_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00248">perf_counter.c:248</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_aa3cd3e43291e81e795d642b79b6088e6"><div class="ttname"><a href="perf__counter_8c.html#aa3cd3e43291e81e795d642b79b6088e6">SystemCoreClock</a></div><div class="ttdeci">uint32_t SystemCoreClock</div></div>
<div class="ttc" id="aperf__counter_8c_html_ab241827d2a793269d8cd99b9b28c2157"><div class="ttname"><a href="perf__counter_8c.html#ab241827d2a793269d8cd99b9b28c2157">SCB_ICSR_PENDSTCLR_Msk</a></div><div class="ttdeci">#define SCB_ICSR_PENDSTCLR_Msk</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00105">perf_counter.c:105</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_ae4e8f0238527c69f522029b93c8e5b78"><div class="ttname"><a href="perf__counter_8c.html#ae4e8f0238527c69f522029b93c8e5b78">SysTick_Config</a></div><div class="ttdeci">__STATIC_INLINE uint32_t SysTick_Config(uint32_t ticks)</div><div class="ttdoc">System Tick Configuration.</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00200">perf_counter.c:200</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_af33fd92801223d4befa49c610332ddd4"><div class="ttname"><a href="perf__counter_8c.html#af33fd92801223d4befa49c610332ddd4">start_cycle_counter</a></div><div class="ttdeci">bool start_cycle_counter(void)</div><div class="ttdoc">try to set a start pointer for the performance counter</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00316">perf_counter.c:316</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>, <a class="el" href="perf__counter_8c_source.html#l00069">SCB</a>, <a class="el" href="perf__counter_8c_source.html#l00105">SCB_ICSR_PENDSTCLR_Msk</a>, <a class="el" href="perf__counter_8c_source.html#l00316">start_cycle_counter()</a>, and <a class="el" href="perf__counter_8c_source.html#l00200">SysTick_Config()</a>.</p>

</div>
</div>
<a id="a74d7160e4b3588456a85fcdce6cee6ab" name="a74d7160e4b3588456a85fcdce6cee6ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74d7160e4b3588456a85fcdce6cee6ab">&#9670;&nbsp;</a></span>init_task_cycle_counter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_task_cycle_counter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00506">506</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  507</span>{</div>
<div class="line"><span class="lineno">  508</span>    <span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> * ptRootAgent = </div>
<div class="line"><span class="lineno">  509</span>        (<span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> *)<a class="code hl_function" href="perf__counter_8c.html#a87abe08a2093c8c69e5f813f565a1d31">get_rtos_task_cycle_info</a>();</div>
<div class="line"><span class="lineno">  510</span>    <span class="keywordflow">if</span> (NULL == ptRootAgent) {</div>
<div class="line"><span class="lineno">  511</span>        return ;</div>
<div class="line"><span class="lineno">  512</span>    }</div>
<div class="line"><span class="lineno">  513</span>    </div>
<div class="line"><span class="lineno">  514</span>    memset(ptRootAgent, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a>));</div>
<div class="line"><span class="lineno">  515</span>    </div>
<div class="line"><span class="lineno">  516</span>    ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a7d50a2272c4a1b65f927e8c6d1242b33">tList</a>.<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a26adda6b75d3722f450eb169546bd7e7">ptInfo</a> = &amp;(ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a8af024785267321e4ef544e7f25d80dc">tInfo</a>);</div>
<div class="line"><span class="lineno">  517</span>    ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a8af024785267321e4ef544e7f25d80dc">tInfo</a>.<a class="code hl_variable" href="structtask__cycle__info__t.html#a3b941eea48497afb204462c694bc2d12">lStart</a> = <a class="code hl_function" href="perf__counter_8c.html#a32dabfe5b863f89f71735b20a0caf1ea">get_system_ticks</a>();</div>
<div class="line"><span class="lineno">  518</span>    ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a88c8aad5ae23ae04fa44b2892081561b">wMagicWord</a> = <a class="code hl_define" href="perf__counter_8c.html#acd6c9ac2bce565b27fef68a011411100">MAGIC_WORD_CANARY</a>;</div>
<div class="line"><span class="lineno">  519</span>}</div>
<div class="ttc" id="aperf__counter_8c_html_acd6c9ac2bce565b27fef68a011411100"><div class="ttname"><a href="perf__counter_8c.html#acd6c9ac2bce565b27fef68a011411100">MAGIC_WORD_CANARY</a></div><div class="ttdeci">#define MAGIC_WORD_CANARY</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00112">perf_counter.c:112</a></div></div>
<div class="ttc" id="astructtask__cycle__info__t_html_a3b941eea48497afb204462c694bc2d12"><div class="ttname"><a href="structtask__cycle__info__t.html#a3b941eea48497afb204462c694bc2d12">task_cycle_info_t::lStart</a></div><div class="ttdeci">int64_t lStart</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00327">perf_counter.h:327</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8c_source.html#l00501">get_rtos_task_cycle_info()</a>, <a class="el" href="perf__counter_8c_source.html#l00472">get_system_ticks()</a>, <a class="el" href="perf__counter_8h_source.html#l00327">task_cycle_info_t::lStart</a>, <a class="el" href="perf__counter_8c_source.html#l00112">MAGIC_WORD_CANARY</a>, <a class="el" href="perf__counter_8h_source.html#l00338">task_cycle_info_agent_t::ptInfo</a>, <a class="el" href="perf__counter_8c_source.html#l00162">__task_cycle_info_t::tInfo</a>, <a class="el" href="perf__counter_8c_source.html#l00164">__task_cycle_info_t::tList</a>, and <a class="el" href="perf__counter_8c_source.html#l00165">__task_cycle_info_t::wMagicWord</a>.</p>

</div>
</div>
<a id="af5404b4b72cfaf910fb2ebeb8d7a4448" name="af5404b4b72cfaf910fb2ebeb8d7a4448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5404b4b72cfaf910fb2ebeb8d7a4448">&#9670;&nbsp;</a></span>init_task_cycle_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> * init_task_cycle_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *&#160;</td>
          <td class="paramname"><em>ptInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00521">521</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  522</span>{</div>
<div class="line"><span class="lineno">  523</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  524</span>        <span class="keywordflow">if</span> (NULL == ptInfo) {</div>
<div class="line"><span class="lineno">  525</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  526</span>        }</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>        memset(ptInfo, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtask__cycle__info__t.html">task_cycle_info_t</a>));</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>        ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  531</span>    } <span class="keywordflow">while</span>(0);</div>
<div class="line"><span class="lineno">  532</span>    </div>
<div class="line"><span class="lineno">  533</span>    <span class="keywordflow">return</span> ptInfo;</div>
<div class="line"><span class="lineno">  534</span>}</div>
<div class="ttc" id="astructtask__cycle__info__t_html"><div class="ttname"><a href="structtask__cycle__info__t.html">task_cycle_info_t</a></div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00326">perf_counter.h:326</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00332">task_cycle_info_t::bEnabled</a>.</p>

</div>
</div>
<a id="a0df8fe57dbd607e1992149a890612476" name="a0df8fe57dbd607e1992149a890612476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0df8fe57dbd607e1992149a890612476">&#9670;&nbsp;</a></span>register_task_cycle_agent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> * register_task_cycle_agent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *&#160;</td>
          <td class="paramname"><em>ptInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> *&#160;</td>
          <td class="paramname"><em>ptAgent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >push to the stack</p>
<p >set next-list</p>
<p >set prev-list</p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00572">572</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  574</span>{</div>
<div class="line"><span class="lineno">  575</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  577</span>            <span class="keywordflow">if</span> (NULL == ptAgent || NULL == ptInfo) {</div>
<div class="line"><span class="lineno">  578</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  579</span>            }</div>
<div class="line"><span class="lineno">  580</span>            </div>
<div class="line"><span class="lineno">  581</span>            <span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> * ptRootAgent = </div>
<div class="line"><span class="lineno">  582</span>                (<span class="keyword">struct </span><a class="code hl_struct" href="struct____task__cycle__info__t.html">__task_cycle_info_t</a> *)<a class="code hl_function" href="perf__counter_8c.html#a87abe08a2093c8c69e5f813f565a1d31">get_rtos_task_cycle_info</a>();</div>
<div class="line"><span class="lineno">  583</span>            <span class="keywordflow">if</span> (NULL == ptRootAgent) {</div>
<div class="line"><span class="lineno">  584</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  585</span>            }</div>
<div class="line"><span class="lineno">  586</span>            </div>
<div class="line"><span class="lineno">  587</span>            ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a88c8aad5ae23ae04fa44b2892081561b">wMagicWord</a> = <a class="code hl_define" href="perf__counter_8c.html#a5ed2b69d382ff960de71b5aa2e0b0deb">MAGIC_WORD_AGENT_LIST_VALID</a>;</div>
<div class="line"><span class="lineno">  588</span>            </div>
<div class="line"><span class="lineno">  589</span>            ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a26adda6b75d3722f450eb169546bd7e7">ptInfo</a> = ptInfo;</div>
<div class="line"><span class="lineno">  590</span>            </div>
<div class="line"><span class="lineno">  592</span>            <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  594</span>                ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a> = ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a7d50a2272c4a1b65f927e8c6d1242b33">tList</a>.<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a>;</div>
<div class="line"><span class="lineno">  595</span>                ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a7d50a2272c4a1b65f927e8c6d1242b33">tList</a>.<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a> = ptAgent;</div>
<div class="line"><span class="lineno">  596</span>                </div>
<div class="line"><span class="lineno">  598</span>                ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a0ab0ef208ec46b60dce3d05a76754931">ptPrev</a> = &amp;(ptRootAgent-&gt;<a class="code hl_variable" href="struct____task__cycle__info__t.html#a7d50a2272c4a1b65f927e8c6d1242b33">tList</a>);</div>
<div class="line"><span class="lineno">  599</span>                <span class="keywordflow">if</span> (NULL != ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a>) {</div>
<div class="line"><span class="lineno">  600</span>                    ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a>-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a0ab0ef208ec46b60dce3d05a76754931">ptPrev</a> = ptAgent;</div>
<div class="line"><span class="lineno">  601</span>                }</div>
<div class="line"><span class="lineno">  602</span>            } <span class="keywordflow">while</span>(0);</div>
<div class="line"><span class="lineno">  603</span>        </div>
<div class="line"><span class="lineno">  604</span>        } <span class="keywordflow">while</span>(0);</div>
<div class="line"><span class="lineno">  605</span>    }</div>
<div class="line"><span class="lineno">  606</span>    </div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordflow">return</span> ptAgent;</div>
<div class="line"><span class="lineno">  608</span>}</div>
<div class="ttc" id="astructtask__cycle__info__agent__t_html_a0ab0ef208ec46b60dce3d05a76754931"><div class="ttname"><a href="structtask__cycle__info__agent__t.html#a0ab0ef208ec46b60dce3d05a76754931">task_cycle_info_agent_t::ptPrev</a></div><div class="ttdeci">task_cycle_info_agent_t * ptPrev</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8h_source.html#l00340">perf_counter.h:340</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>, <a class="el" href="perf__counter_8c_source.html#l00501">get_rtos_task_cycle_info()</a>, <a class="el" href="perf__counter_8c_source.html#l00111">MAGIC_WORD_AGENT_LIST_VALID</a>, <a class="el" href="perf__counter_8h_source.html#l00338">task_cycle_info_agent_t::ptInfo</a>, <a class="el" href="perf__counter_8h_source.html#l00339">task_cycle_info_agent_t::ptNext</a>, <a class="el" href="perf__counter_8h_source.html#l00340">task_cycle_info_agent_t::ptPrev</a>, <a class="el" href="perf__counter_8c_source.html#l00164">__task_cycle_info_t::tList</a>, and <a class="el" href="perf__counter_8c_source.html#l00165">__task_cycle_info_t::wMagicWord</a>.</p>

</div>
</div>
<a id="a79c2926ae10e2cc327faf58e6094866d" name="a79c2926ae10e2cc327faf58e6094866d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79c2926ae10e2cc327faf58e6094866d">&#9670;&nbsp;</a></span>resume_task_cycle_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resume_task_cycle_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtask__cycle__info__t.html">task_cycle_info_t</a> *&#160;</td>
          <td class="paramname"><em>ptInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bEnabledStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00562">562</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  563</span>{</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">if</span> (NULL == ptInfo) {</div>
<div class="line"><span class="lineno">  565</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  566</span>    }</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span>    ptInfo-&gt;<a class="code hl_variable" href="structtask__cycle__info__t.html#a8a4c67264f8440bb83dec68c4312ff09">bEnabled</a> = bEnabledStatus;</div>
<div class="line"><span class="lineno">  569</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00332">task_cycle_info_t::bEnabled</a>.</p>

</div>
</div>
<a id="af33fd92801223d4befa49c610332ddd4" name="af33fd92801223d4befa49c610332ddd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af33fd92801223d4befa49c610332ddd4">&#9670;&nbsp;</a></span>start_cycle_counter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool start_cycle_counter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>try to set a start pointer for the performance counter </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>the LOAD register is too small</td></tr>
    <tr><td class="paramname">true</td><td>performance counter starts </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00316">316</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  317</span>{</div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;LOAD &lt; <a class="code hl_define" href="perf__counter_8c.html#a0f17a2b1bde9a2632daa7ad0b96df9e5">PERF_CNT_COMPENSATION_THRESHOLD</a>) {</div>
<div class="line"><span class="lineno">  319</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  320</span>    }</div>
<div class="line"><span class="lineno">  321</span>    </div>
<div class="line"><span class="lineno">  322</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  323</span>        s_nCycleCounts =  (int32_t)<a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;VAL - (int32_t)<a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;LOAD;</div>
<div class="line"><span class="lineno">  324</span>    }</div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  326</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>, <a class="el" href="perf__counter_8c_source.html#l00034">PERF_CNT_COMPENSATION_THRESHOLD</a>, and <a class="el" href="perf__counter_8c_source.html#l00068">SysTick</a>.</p>

<p class="reference">Referenced by <a class="el" href="perf__counter_8c_source.html#l00280">init_cycle_counter()</a>.</p>

</div>
</div>
<a id="a014af75d3945894c4740773e8a28d723" name="a014af75d3945894c4740773e8a28d723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a014af75d3945894c4740773e8a28d723">&#9670;&nbsp;</a></span>stop_cycle_counter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t stop_cycle_counter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculate the elapsed cycle count since the last start point </p>
<dl class="section note"><dt>Note</dt><dd>you can have multiple stop_cycle_counter following one start point</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int32_t the elapsed cycle count </dd></dl>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00372">372</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  373</span>{</div>
<div class="line"><span class="lineno">  374</span>    int32_t nTemp = 0;</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  377</span>        nTemp = <a class="code hl_function" href="perf__counter_8c.html#a21ccde78f8ad778f05be60855c5a8283">check_systick</a>() + s_nCycleCounts;</div>
<div class="line"><span class="lineno">  378</span>    }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">return</span> nTemp - s_nOffset;</div>
<div class="line"><span class="lineno">  381</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>, and <a class="el" href="perf__counter_8c_source.html#l00332">check_systick()</a>.</p>

</div>
</div>
<a id="ae4e8f0238527c69f522029b93c8e5b78" name="ae4e8f0238527c69f522029b93c8e5b78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4e8f0238527c69f522029b93c8e5b78">&#9670;&nbsp;</a></span>SysTick_Config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__STATIC_INLINE uint32_t SysTick_Config </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ticks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>System Tick Configuration. </p>
<p >Initializes the System Timer and its interrupt, and starts the System Tick Timer. Counter is in free running mode to generate periodic interrupts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ticks</td><td>Number of ticks between two interrupts. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Function succeeded. </dd>
<dd>
1 Function failed. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>When the variable <b>__Vendor_SysTickConfig</b> is set to 1, then the function <b>SysTick_Config</b> is not included. In this case, the file <b><em>device</em>.h</b> must contain a vendor-specific implementation of this function. </dd></dl>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00200">200</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  201</span>{</div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordflow">if</span> ((ticks - 1UL) &gt; <a class="code hl_define" href="perf__counter_8c.html#a265912a7962f0e1abd170336e579b1b1">SysTick_LOAD_RELOAD_Msk</a>)</div>
<div class="line"><span class="lineno">  203</span>    {</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">return</span> (1UL);                                                           <span class="comment">/* Reload value impossible */</span></div>
<div class="line"><span class="lineno">  205</span>    }</div>
<div class="line"><span class="lineno">  206</span>  </div>
<div class="line"><span class="lineno">  207</span>    <span class="comment">//__IRQ_SAFE {</span></div>
<div class="line"><span class="lineno">  208</span>        <a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;CTRL  = 0;</div>
<div class="line"><span class="lineno">  209</span>        </div>
<div class="line"><span class="lineno">  210</span>        <a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;LOAD  = (uint32_t)(ticks - 1UL);                               <span class="comment">/* set reload register */</span></div>
<div class="line"><span class="lineno">  211</span>        <span class="comment">//NVIC_SetPriority (SysTick_IRQn, (1UL &lt;&lt; __NVIC_PRIO_BITS) - 1UL);     /* set Priority for Systick Interrupt */</span></div>
<div class="line"><span class="lineno">  212</span>        <a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;VAL   = 0UL;                                                   <span class="comment">/* Load the SysTick Counter Value */</span></div>
<div class="line"><span class="lineno">  213</span>        <a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;CTRL  =   <a class="code hl_define" href="perf__counter_8c.html#aa41d06039797423a46596bd313d57373">SysTick_CTRL_CLKSOURCE_Msk</a> |</div>
<div class="line"><span class="lineno">  214</span>                           <a class="code hl_define" href="perf__counter_8c.html#a95bb984266ca764024836a870238a027">SysTick_CTRL_TICKINT_Msk</a>   |</div>
<div class="line"><span class="lineno">  215</span>                           <a class="code hl_define" href="perf__counter_8c.html#a16c9fee0ed0235524bdeb38af328fd1f">SysTick_CTRL_ENABLE_Msk</a>;                             <span class="comment">/* Enable SysTick IRQ and SysTick Timer */</span></div>
<div class="line"><span class="lineno">  216</span>        <span class="comment">//SCB-&gt;ICSR      = SCB_ICSR_PENDSTCLR_Msk;</span></div>
<div class="line"><span class="lineno">  217</span>    <span class="comment">//}</span></div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">return</span> (0UL);                                                               <span class="comment">/* Function successful */</span></div>
<div class="line"><span class="lineno">  219</span>}</div>
<div class="ttc" id="aperf__counter_8c_html_a16c9fee0ed0235524bdeb38af328fd1f"><div class="ttname"><a href="perf__counter_8c.html#a16c9fee0ed0235524bdeb38af328fd1f">SysTick_CTRL_ENABLE_Msk</a></div><div class="ttdeci">#define SysTick_CTRL_ENABLE_Msk</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00082">perf_counter.c:82</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_a265912a7962f0e1abd170336e579b1b1"><div class="ttname"><a href="perf__counter_8c.html#a265912a7962f0e1abd170336e579b1b1">SysTick_LOAD_RELOAD_Msk</a></div><div class="ttdeci">#define SysTick_LOAD_RELOAD_Msk</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00086">perf_counter.c:86</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_a95bb984266ca764024836a870238a027"><div class="ttname"><a href="perf__counter_8c.html#a95bb984266ca764024836a870238a027">SysTick_CTRL_TICKINT_Msk</a></div><div class="ttdeci">#define SysTick_CTRL_TICKINT_Msk</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00079">perf_counter.c:79</a></div></div>
<div class="ttc" id="aperf__counter_8c_html_aa41d06039797423a46596bd313d57373"><div class="ttname"><a href="perf__counter_8c.html#aa41d06039797423a46596bd313d57373">SysTick_CTRL_CLKSOURCE_Msk</a></div><div class="ttdeci">#define SysTick_CTRL_CLKSOURCE_Msk</div><div class="ttdef"><b>Definition:</b> <a href="perf__counter_8c_source.html#l00076">perf_counter.c:76</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8c_source.html#l00068">SysTick</a>, <a class="el" href="perf__counter_8c_source.html#l00076">SysTick_CTRL_CLKSOURCE_Msk</a>, <a class="el" href="perf__counter_8c_source.html#l00082">SysTick_CTRL_ENABLE_Msk</a>, <a class="el" href="perf__counter_8c_source.html#l00079">SysTick_CTRL_TICKINT_Msk</a>, and <a class="el" href="perf__counter_8c_source.html#l00086">SysTick_LOAD_RELOAD_Msk</a>.</p>

<p class="reference">Referenced by <a class="el" href="perf__counter_8c_source.html#l00280">init_cycle_counter()</a>.</p>

</div>
</div>
<a id="ae8c905d7221a7299fba5edbbfe1f449f" name="ae8c905d7221a7299fba5edbbfe1f449f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8c905d7221a7299fba5edbbfe1f449f">&#9670;&nbsp;</a></span>unregister_task_cycle_agent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> * unregister_task_cycle_agent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> *&#160;</td>
          <td class="paramname"><em>ptAgent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >already removed</p>
<p >remove agent from the next-list</p>
<p >remove agent from the prev-list</p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00611">611</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  612</span>{</div>
<div class="line"><span class="lineno">  613</span>    <a class="code hl_define" href="perf__counter_8h.html#a966a3eb20671a2a8c44d63d459f5472e">__IRQ_SAFE</a> {</div>
<div class="line"><span class="lineno">  614</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  615</span>            <span class="keywordflow">if</span> (NULL == ptAgent) {</div>
<div class="line"><span class="lineno">  616</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  617</span>            }</div>
<div class="line"><span class="lineno">  618</span>            </div>
<div class="line"><span class="lineno">  619</span>            <a class="code hl_struct" href="structtask__cycle__info__agent__t.html">task_cycle_info_agent_t</a> *ptPrev = ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a0ab0ef208ec46b60dce3d05a76754931">ptPrev</a>;</div>
<div class="line"><span class="lineno">  620</span>            <span class="keywordflow">if</span> (NULL == ptPrev) {</div>
<div class="line"><span class="lineno">  621</span>                <span class="keywordflow">break</span>;      <span class="comment">/* this should not happen */</span></div>
<div class="line"><span class="lineno">  622</span>            }</div>
<div class="line"><span class="lineno">  623</span>            <span class="keywordflow">if</span> (ptPrev-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a> != ptAgent) {</div>
<div class="line"><span class="lineno">  625</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  626</span>            }</div>
<div class="line"><span class="lineno">  627</span>            </div>
<div class="line"><span class="lineno">  629</span>            ptPrev-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a> = ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a>;</div>
<div class="line"><span class="lineno">  630</span>            </div>
<div class="line"><span class="lineno">  631</span>            <span class="keywordflow">if</span> (NULL != ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a>) {</div>
<div class="line"><span class="lineno">  633</span>                ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a>-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a0ab0ef208ec46b60dce3d05a76754931">ptPrev</a> = ptPrev;</div>
<div class="line"><span class="lineno">  634</span>            }</div>
<div class="line"><span class="lineno">  635</span>            </div>
<div class="line"><span class="lineno">  636</span>            ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a3f049d289ce99f316894417016d60ca6">ptNext</a> = NULL;</div>
<div class="line"><span class="lineno">  637</span>            ptAgent-&gt;<a class="code hl_variable" href="structtask__cycle__info__agent__t.html#a0ab0ef208ec46b60dce3d05a76754931">ptPrev</a> = NULL;</div>
<div class="line"><span class="lineno">  638</span>            </div>
<div class="line"><span class="lineno">  639</span>        } <span class="keywordflow">while</span>(0);</div>
<div class="line"><span class="lineno">  640</span>    }</div>
<div class="line"><span class="lineno">  641</span>    </div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordflow">return</span> ptAgent;</div>
<div class="line"><span class="lineno">  643</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8h_source.html#l00264">__IRQ_SAFE</a>, <a class="el" href="perf__counter_8h_source.html#l00339">task_cycle_info_agent_t::ptNext</a>, and <a class="el" href="perf__counter_8h_source.html#l00340">task_cycle_info_agent_t::ptPrev</a>.</p>

</div>
</div>
<a id="a0a6e5160f19f152b0b9a502e5e24adb7" name="a0a6e5160f19f152b0b9a502e5e24adb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a6e5160f19f152b0b9a502e5e24adb7">&#9670;&nbsp;</a></span>user_code_insert_to_systick_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void user_code_insert_to_systick_handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>- if you are using a compiler other than armcc or armclang, e.g. iar, arm gcc etc, the systick_wrapper_ual.o doesn't work with the linker of your target toolchain as it use the $Super$$ which is only supported by armlink. For this condition, you have to manually put this function into your existing SysTick_Handler to make the perf_counter library work.</dd>
<dd>
- if you are using Arm Compiler 5 (armcc) or Arm Compiler 6 (armclang) you do NOT have to insert this function into your SysTick_Handler, the systick_wrapper_ual.s will do the work for you. </dd></dl>
<p >update system ms counter</p>

<p class="definition">Definition at line <a class="el" href="perf__counter_8c_source.html#l00233">233</a> of file <a class="el" href="perf__counter_8c_source.html">perf_counter.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  234</span>{</div>
<div class="line"><span class="lineno">  235</span>    uint32_t wLoad = <a class="code hl_define" href="perf__counter_8c.html#acd96c53beeaff8f603fcda425eb295de">SysTick</a>-&gt;LOAD + 1;</div>
<div class="line"><span class="lineno">  236</span>    s_nCycleCounts += wLoad;</div>
<div class="line"><span class="lineno">  237</span>    s_lSystemClockCounts += wLoad;</div>
<div class="line"><span class="lineno">  238</span>    </div>
<div class="line"><span class="lineno">  240</span>    s_nMSResidule += wLoad;</div>
<div class="line"><span class="lineno">  241</span>    int32_t nMS = s_nMSResidule / s_nMSUnit;</div>
<div class="line"><span class="lineno">  242</span>    s_nMSResidule -= nMS * s_nMSUnit;</div>
<div class="line"><span class="lineno">  243</span>    s_nSystemMS += nMS;</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="perf__counter_8c_source.html#l00068">SysTick</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa3cd3e43291e81e795d642b79b6088e6" name="aa3cd3e43291e81e795d642b79b6088e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3cd3e43291e81e795d642b79b6088e6">&#9670;&nbsp;</a></span>SystemCoreClock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SystemCoreClock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="perf__counter_8c.html">perf_counter.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
